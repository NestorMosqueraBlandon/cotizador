(self.webpackChunkCotizador=self.webpackChunkCotizador||[]).push([[55],{70612:function(e,t,n){"use strict";var r=n(35737);t.Z=function(e,t,n){var a,o=new RegExp("".concat(n),"i"),i=[],c=(0,r.Z)(e);try{for(c.s();!(a=c.n()).done;){var l,u=a.value,s=(0,r.Z)(t);try{for(s.s();!(l=s.n()).done;){var f=l.value;if(f.indexOf(".")>0){var d=u[f.split(".")[0]],m=f.split(".")[1];if(o.test(d[m])){i.push(u);break}}else if(o.test(u[f])){i.push(u);break}}}catch(p){s.e(p)}finally{s.f()}}}catch(p){c.e(p)}finally{c.f()}return i}},57733:function(e,t){"use strict";t.Z=function(e,t,n){return"number"===typeof e[n]&&"number"===typeof t[n]?e[n]-t[n]:"string"===typeof e[n]&&"string"===typeof t[n]?(e=e[n].toLowerCase())>(t=t[n].toLowerCase())?-1:t>e?1:0:"boolean"===typeof e[n]&&"boolean"===typeof t[n]?!!e:void 0}},51232:function(e,t,n){"use strict";n.r(t);var r=n(9817),a=n(10389),o=n(99499),i=n(43693),c=n(7738),l=n(49073),u=n(62780),s=n(4569),f=n(81787),d=n(89579),m=n(74193),p=n(30531),v=n(98848),y=n(43157),h=n.n(y),Z=n(92210),x=n(70612),g=n(57733),k=function e(t){var n=t.inks,r=t.ranges,a=n?[{title:"Tintas",children:[{title:"Nombre tinta",dataIndex:"name",key:"name"},{title:"Precio Minimo",dataIndex:"minTotalPrice",key:"minTotalPrice"},{title:"Precio unitario fuera de rango",dataIndex:"outOfRangePrice",key:"outOfRangePrice"},{title:"Rangos",dataIndex:"ranges",key:"ranges",render:function(e){return c.createElement("div",null,e.length)}}]}]:r?[{title:"Rangos",children:[{title:"Desde",dataIndex:"min",key:"min"},{title:"Hasta",dataIndex:"max",key:"max"},{title:"Precio unitario",dataIndex:"price",key:"price"}]}]:[];return c.createElement(u.Z,{columns:a,dataSource:n||r,rowKey:"_id",expandable:n?{expandedRowRender:e}:null})};t.default=function(e){var t=e.history,n=(0,c.useState)(!0),y=(0,i.Z)(n,2),b=y[0],E=y[1],w=(0,c.useState)([]),C=(0,i.Z)(w,2),S=C[0],T=C[1],P=(0,c.useState)([]),I=(0,i.Z)(P,2),N=I[0],O=I[1];(0,c.useEffect)((function(){var e=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t,n,o,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("jwt"),n={url:v.CT+"/marking/",method:"GET",headers:{"Content-Type":"application/json","jwt-token":t}},e.next=5,h().request(n);case 5:o=e.sent,i=o.data.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{key:e.id})})),T(i),O(i),E(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var R=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push(v.sH+"/editmarking/"+n);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(S.filter((function(e){return e._id!==t}))),e.prev=1,n=localStorage.getItem("jwt"),a={url:v.CT+"/marking/"+t,method:"DELETE",headers:{"Content-Type":"application/json","jwt-token":n}},e.next=6,h().request(a);case 6:s.ZP.success({content:"Successfully deleted marking",duration:5}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),z=[{title:"Nombre",dataIndex:"name",key:"name",sorter:function(e,t){return(0,g.Z)(e,t,"name")}},{title:"Tintas",dataIndex:"inks",key:"inks",render:function(e){return c.createElement("div",null,e.length)}},{title:"Acciones",dataIndex:"_id",key:"_id",render:function(e){return function(e,t,n,r){return c.createElement("div",null,c.createElement(m.Z,{onClick:function(){return n(e)},style:{fontSize:"25px",marginRight:"15px"}}),c.createElement(l.Z,{title:"Sure to delete?",onConfirm:function(){return t(e)}},c.createElement(p.Z,{style:{fontSize:"25px"}})))}(e,j,R)}}];return b?c.createElement(Z.Z,{cover:"content"}):c.createElement("div",null,c.createElement("div",{style:{flexDirection:"row",display:"flex",marginBottom:"20px"}},c.createElement(f.Z.Search,{allowClear:!0,placeholder:"Search",onSearch:function(e){var t;(t=e).length>0?T((0,x.Z)(N,["name"],t)):T(N)},style:{marginRight:"4px"},enterButton:!0}),c.createElement(d.Z,{onClick:function(){return t.push(v.sH+"/addmarking")},style:{marginBottom:"20px"}},"Crear marcaci\xf3n")),c.createElement(u.Z,{expandable:{expandedRowRender:k},columns:z,dataSource:S,rowKey:"_id"}))}},30531:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(1413),a=n(7738),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},i=n(4622),c=function(e,t){return a.createElement(i.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:o}))};c.displayName="DeleteOutlined";var l=a.forwardRef(c)},49073:function(e,t,n){"use strict";var r=n(87462),a=n(29439),o=n(7738),i=n(71388),c=n.n(i),l=n(15576),u=n(90051),s=n(15338),f=n(41520),d=n(89579),m=n(40205),p=n(16068),v=n(39484),y=n(66800),h=n(62703),Z=n(86403),x=n(82306),g=void 0,k=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},b=o.forwardRef((function(e,t){var n=(0,l.Z)(!1,{value:e.visible,defaultValue:e.defaultVisible}),i=(0,a.Z)(n,2),u=i[0],b=i[1],E=function(t,n){var r;b(t),null===(r=e.onVisibleChange)||void 0===r||r.call(e,t,n)},w=function(t){var n;E(!1,t),null===(n=e.onConfirm)||void 0===n||n.call(g,t)},C=function(t){var n;E(!1,t),null===(n=e.onCancel)||void 0===n||n.call(g,t)},S=o.useContext(y.E_).getPrefixCls,T=e.prefixCls,P=e.placement,I=e.children,N=e.overlayClassName,O=k(e,["prefixCls","placement","children","overlayClassName"]),R=S("popover",T),j=S("popconfirm",T),z=c()(j,N),H=o.createElement(p.Z,{componentName:"Popconfirm",defaultLocale:v.Z.Popconfirm},(function(t){return function(t,n){var a=e.okButtonProps,i=e.cancelButtonProps,c=e.title,l=e.cancelText,u=e.okText,s=e.okType,f=e.icon;return o.createElement("div",{className:"".concat(t,"-inner-content")},o.createElement("div",{className:"".concat(t,"-message")},f,o.createElement("div",{className:"".concat(t,"-message-title")},(0,h.Z)(c))),o.createElement("div",{className:"".concat(t,"-buttons")},o.createElement(d.Z,(0,r.Z)({onClick:C,size:"small"},i),l||n.cancelText),o.createElement(d.Z,(0,r.Z)({onClick:w},(0,m.n)(s),{size:"small"},a),u||n.okText)))}(R,t)})),B=S();return o.createElement(f.Z,(0,r.Z)({},O,{prefixCls:R,placement:P,onVisibleChange:function(t){e.disabled||E(t)},visible:u,overlay:H,overlayClassName:z,ref:t,transitionName:(0,x.m)(B,"zoom-big",e.transitionName)}),(0,Z.Tm)(I,{onKeyDown:function(e){var t,n;o.isValidElement(I)&&(null===(n=null===I||void 0===I?void 0:(t=I.props).onKeyDown)||void 0===n||n.call(t,e)),function(e){e.keyCode===s.Z.ESC&&u&&E(!1,e)}(e)}}))}));b.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:o.createElement(u.Z,null),disabled:!1},t.Z=b},20343:function(e,t,n){var r=n(82172);e.exports=function(e,t){return r(e,t)}},35737:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(15449);function a(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw i}}}}}}]);
//# sourceMappingURL=55.361965a7.chunk.js.map