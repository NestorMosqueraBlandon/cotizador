"use strict";(self.webpackChunkCotizador=self.webpackChunkCotizador||[]).push([[637],{637:function(e,t,r){r.r(t);var n=r(26608),a=r(9817),c=r(10389),l=r(99499),o=r(43693),i=r(7738),u=r(4569),s=r(50465),m=r(84762),p=r(81787),d=r(89579),f=r(98848),Z=r(43157),v=r.n(Z),b=r(643),h={labelCol:{span:4},wrapperCol:{span:14}},E={required:"This field is required!",types:{email:"Not a validate email!",number:"Not a validate number!"},number:{range:"Must be between ${min} and ${max}"}};Object.filter=function(e,t){return Object.keys(e).filter((function(r){return t(e[r])})).reduce((function(t,r){return t[r]=e[r],t}),{})};t.default=function(e){var t=e.history,r=(0,i.useState)([{price:0,description:""}]),Z=(0,o.Z)(r,2),y=Z[0],g=Z[1],w=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(r){var n,l,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.filter(r,(function(e){return void 0!==e})),l=localStorage.getItem("jwt"),n=(0,c.Z)((0,c.Z)({},n),{},{prices:y}),n=(0,c.Z)((0,c.Z)({},n),{},{custom:!0}),e.prev=4,o={url:f.CT+"/product/",method:"POST",data:n,headers:{"Content-Type":"application/json","jwt-token":l}},e.next=8,v().request(o);case 8:u.ZP.success({content:"Producto creado con exito"}),t.push(f.sH+"/products"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}();return i.createElement(s.Z,null,i.createElement(m.Z,Object.assign({},h,{name:"add-product",onFinish:w,validateMessages:E}),i.createElement(m.Z.Item,{name:["sku"],label:"SKU",rules:[{required:!0}]},i.createElement(p.Z,null)),i.createElement(m.Z.Item,{name:["name"],label:"Nombre",rules:[{required:!0}]},i.createElement(p.Z,null)),i.createElement(m.Z.Item,{name:["resume"],label:"Resumen"},i.createElement(p.Z,null)),i.createElement(m.Z.Item,{name:["keywords"],label:"Palabras clave"},i.createElement(p.Z,null)),i.createElement(m.Z.Item,{name:["photo"],label:"Foto URL"},i.createElement(p.Z,null)),i.createElement(m.Z.Item,{name:["description"],label:"Descripci\xf3n"},i.createElement(p.Z.TextArea,null)),y.map((function(e,t){return i.createElement(s.Z,{key:"".concat(t),title:"Precio ".concat(t+1)},i.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},i.createElement("div",{style:{width:"90%"}},i.createElement(m.Z.Item,{label:"Precio"},i.createElement(p.Z,{value:e.price.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),onChange:function(e){return function(e,t){var r=e.target.value.toString().replace(/\$\s?|(,*)/g,"");if((r.match(/^\d+\.\d+$/)||r.match(/^\d+$/)||""===r)&&!(r<0)){var a=(0,n.Z)(y);a[t].price=""!==r?parseInt(r):0,g(a)}}(e,t)}})),i.createElement(m.Z.Item,{label:"Descripcion"},i.createElement(p.Z.TextArea,{value:e.description,onChange:function(e){return function(e,t){var r=(0,n.Z)(y);r[t].description=e.target.value,g(r)}(e,t)}}))),i.createElement(d.Z,{onClick:function(){return function(e){var t=(0,n.Z)(y);t.splice(e,1),g(t)}(t)}},i.createElement(b.Z,{style:{color:"red"}}))))})),i.createElement(m.Z.Item,{wrapperCol:(0,c.Z)((0,c.Z)({},h.wrapperCol),{},{offset:4})},i.createElement(d.Z,{onClick:function(){g([].concat((0,n.Z)(y),[{price:0,description:""}]))}},"Agregar precio")),i.createElement(m.Z.Item,{wrapperCol:(0,c.Z)((0,c.Z)({},h.wrapperCol),{},{offset:4})},i.createElement(d.Z,{type:"primary",htmlType:"submit"},"Crear"),i.createElement(d.Z,{type:"ghost",onClick:function(){return t.push(f.sH+"/products")},style:{marginLeft:"15px"}},"Volver"))))}},643:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(1413),a=r(7738),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z"}}]},name:"delete",theme:"filled"},l=r(4622),o=function(e,t){return a.createElement(l.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:t,icon:c}))};o.displayName="DeleteFilled";var i=a.forwardRef(o)},26608:function(e,t,r){r.d(t,{Z:function(){return c}});var n=r(53);var a=r(15449);function c(e){return function(e){if(Array.isArray(e))return(0,n.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=637.822d3c44.chunk.js.map