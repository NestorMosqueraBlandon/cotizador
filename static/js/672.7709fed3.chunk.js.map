{"version":3,"file":"static/js/672.7709fed3.chunk.js","mappings":"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","sources":["views/app-views/quote/editQuote/index.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Select, Card, Form, Button, Input, Modal, Divider, Checkbox, message, Table } from 'antd';\nimport { DeleteFilled } from '@ant-design/icons';\nimport { APP_PREFIX_PATH, API_BASE_URL } from 'configs/AppConfig'\nimport Loading from 'components/shared-components/Loading'\nimport axios from 'axios'\n\nconst { Option } = Select;\n\nconst onFinish = async (data, setLoading, history) => {\n  setLoading(true)\n  const jwt = localStorage.getItem('jwt')\n\n  try {\n    const options = {\n      url: `${API_BASE_URL}/quote/`,\n      method: 'PUT',\n      data,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'jwt-token': jwt\n      }\n    }\n    await axios.request(options)\n    message.success({ content: 'Cotizacion editada' })\n    history.push(`${APP_PREFIX_PATH}/quotes`)\n  } catch (error) {\n    message.error({ content: 'Something went wrong' })\n    console.error(error);\n    setLoading(false)\n  }\n}\n\nconst getStock = async (sku) => {\n  const jwt = localStorage.getItem('jwt')\n  // Get the stock of a product\n  try {\n    const options = {\n      url: `${API_BASE_URL}/product/stock/${sku}`,\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'jwt-token': jwt\n      }\n    }\n    const stock = (await axios.request(options)).data\n    return stock\n  } catch (error) {\n    message.error({ content: `No se pudo cargar el stock de ${sku}` })\n    return []\n  }\n}\n\nconst EditQuote = ({ history, match }) => {\n  const [loading, setLoading] = useState(true)\n  const [customers, setCustomers] = useState([])\n  const [customer, setCustomer] = useState(0)\n  const [products, setProducts] = useState([])\n  const [markings, setMarkings] = useState([])\n  const [stock, setStock] = useState([])\n  const [isOpen, setIsOpen] = useState(false)\n  const [discount, setDiscount] = useState(null)\n  const [usbDiscount, setUsbDiscount] = useState(null)\n  const [quote, setQuote] = useState({ customer: null, wayToPay: '', validityPeriod: '', deliveryTime: '', seller: '', generalObservations: '', products: [{ product: null, price: 0, typeOfPrice: 'net', priceDescription: '', markings: [{ freight: 0, profit: 0, netPrice: 0, amount: 0, markingPrice: 0, unitPrice: 0, totalPrice: 0, name: null, ink: null, i: null }], discount: false, usbDiscount: false, observations: '' }] })\n\n  const quoteId = match.params.quoteid\n\n  useEffect(() => {\n    const CancelToken = axios.CancelToken.source();\n    const init = async () => {\n      const jwt = localStorage.getItem('jwt')\n      // Get the list of customers\n      try {\n        const options = {\n          url: API_BASE_URL + '/customer/',\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n            'jwt-token': jwt\n          }\n        }\n        const res = await axios.request(options)\n        setCustomers(res.data)\n      } catch (error) {\n        console.error(error);\n      }\n      try {\n        const options = {\n          url: API_BASE_URL + '/quote/' + quoteId,\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n            'jwt-token': jwt\n          }\n        }\n        const res = (await axios.request(options)).data\n        setQuote(res)\n      } catch (error) {\n        console.error(error);\n      }\n      // Get the list of products\n      try {\n        const options = {\n          url: API_BASE_URL + '/product/',\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n            'jwt-token': jwt\n          }\n        }\n        const res = await axios.request(options)\n        setProducts(res.data)\n      } catch (error) {\n        console.error(error);\n      }\n      // Get the list of markings\n      try {\n        const options = {\n          url: API_BASE_URL + '/marking/',\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n            'jwt-token': jwt\n          }\n        }\n        let res = (await axios.request(options)).data\n        res = res.sort((a, b) => {\n          if (a.name < b.name) return -1\n          else return 1\n        })\n        setMarkings(res)\n      } catch (error) {\n        console.error(error);\n      }\n      // Get discounts\n      try {\n        const options = {\n          url: API_BASE_URL + '/discount/',\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n            'jwt-token': jwt\n          }\n        }\n        const res = (await axios.request(options)).data\n        setDiscount(res)\n      } catch (error) {\n        console.error(error);\n      }\n      // Get USB discounts\n      try {\n        const options = {\n          url: API_BASE_URL + '/usbdiscount/',\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n            'jwt-token': jwt\n          }\n        }\n        const res = (await axios.request(options)).data\n        setUsbDiscount(res)\n      } catch (error) {\n        console.error(error);\n      }\n      setLoading(false)\n    }\n    init()\n    return () => CancelToken.cancel('Cancelling in cleanup')// eslint-disable-next-line\n  }, [])\n\n  const onChangeCustomer = (i) => {\n    setCustomer(i)\n    let aux = { ...quote }\n    aux.customer = customers[i]\n    setQuote(aux)\n  }\n\n  const calculatePrices = (product, isMark) => {\n    product.markings.forEach((mark, j) => {\n      switch (product.typeOfPrice) {\n        case 'net':\n          mark.netPrice = product.price\n          break;\n        case 'offer':\n          mark.netPrice = (product.price * 0.6) * 0.85\n          break;\n        case 'full':\n          mark.netPrice = product.price * 0.6\n          break;\n        default:\n          break;\n      }\n\n      if (product.discount && discount && discount.ranges.length > 0) {\n        let inRange = false\n        for (const range of discount.ranges) {\n          if (mark.amount * mark.netPrice >= range.min && mark.amount * mark.netPrice <= range.max) {\n            mark.netPrice = mark.netPrice * ((100 - range.discount) / 100)\n            inRange = true\n            break\n          } else if (mark.amount * mark.netPrice < range.min) inRange = true\n        }\n        if (!inRange) {\n          mark.netPrice = mark.netPrice * ((100 - discount.outOfRangeDiscount) / 100)\n        }\n      }\n\n      if (product.usbDiscount && usbDiscount && usbDiscount.ranges.length > 0) {\n        let inRange = false\n        for (const range of usbDiscount.ranges) {\n          if (mark.amount >= range.min && mark.amount <= range.max) {\n            mark.netPrice = (mark.netPrice) * ((100 - range.discount) / 100)\n            inRange = true\n            break\n          } else if (mark.amount < range.min) inRange = true\n        }\n        if (!inRange) {\n          mark.netPrice = (mark.netPrice) * ((100 - usbDiscount.outOfRangeDiscount) / 100)\n        }\n      }\n\n      let sum = 0\n      if (mark.ink) {\n        let inRange = false\n        for (const ran of mark.ink.ranges) {\n          if (mark.amount >= ran.min && mark.amount <= ran.max) {\n            sum = mark.amount * ran.price\n            inRange = true\n            break\n          } else if (mark.amount < ran.min) {\n            sum = mark.ink.minTotalPrice\n            inRange = true\n          }\n        }\n        if (!inRange) {\n          sum += mark.ink.outOfRangePrice * mark.amount\n        }\n      }\n      if (sum > 0) {\n        if (!isMark) product.markings[j].markingPrice = sum / mark.amount\n      } else product.markings[j].markingPrice = 0\n      product.markings[j].unitPrice = parseInt((parseInt(mark.netPrice) + parseInt(product.markings[j].markingPrice) + parseInt(product.markings[j].freight)) / (product.markings[j].profit > 0 ? ((100 - product.markings[j].profit) / 100) : 1))\n      product.markings[j].totalPrice = parseInt(product.markings[j].unitPrice * mark.amount)\n    });\n    return product\n  }\n\n  const openStock = async (sku) => {\n    setStock('loading')\n    setIsOpen(true)\n    setStock(await getStock(sku))\n  }\n\n  const addProduct = () => {\n    let aux = { ...quote }\n    aux.products.push({ product: null, price: 0, typeOfPrice: 'net', priceDescription: '', freight: 0, profit: 0, markings: [{ freight: 0, profit: 0, netPrice: 0, amount: 0, markingPrice: 0, unitPrice: 0, totalPrice: 0, name: null, ink: null, i: null }], discount: false, usbDiscount: false, observations: '' })\n    setQuote(aux)\n  }\n\n  const deleteProduct = (i) => {\n    let aux = { ...quote }\n    aux.products.splice(i, 1)\n    setQuote(aux)\n  }\n\n  const onChangeProduct = (j, i) => {\n    let aux = { ...quote }\n    aux.products[i].product = products[j]\n    if (aux.products[i].product.prices[0]) {\n      aux.products[i].price = aux.products[i].product.prices[0].price\n      aux.products[i].priceDescription = aux.products[i].product.prices[0].description\n    }\n    aux.products[i] = calculatePrices(aux.products[i])\n    setQuote(aux)\n  }\n\n  const onChangeHandlerMark = (v, i, j) => {\n    const value = v.target.value.toString().replace(/\\$\\s?|(,*)/g, '')\n    if (!(value.match(/^\\d+\\.\\d+$/) || value.match(/^\\d+$/)) && value !== '') return\n    if (value < 0) return\n    let aux = { ...quote }\n    aux.products[i].markings[j][v.target.name] = value !== '' ? parseInt(value) : 0\n    if (v.target.name !== 'totalPrice') aux.products[i] = calculatePrices(aux.products[i], v.target.name === 'markingPrice')\n    setQuote(aux)\n  }\n\n  const addMarking = (i) => {\n    let aux = { ...quote }\n    aux.products[i].markings.push({ freight: 0, profit: 0, netPrice: 0, amount: 0, markingPrice: 0, unitPrice: 0, totalPrice: 0, name: null, ink: null, i: null })\n    setQuote(aux)\n  }\n\n  const onChangeMarking = (i, j, k) => {\n    let aux = { ...quote }\n    aux.products[i].markings[j].name = markings[k].name\n    aux.products[i].markings[j].i = k\n    aux.products[i].markings[j].ink = null\n    aux.products[i] = calculatePrices(aux.products[i])\n    setQuote(aux)\n  }\n\n  const onChangeInk = (i, j, k) => {\n    let aux = { ...quote }\n    aux.products[i].markings[j].ink = markings[aux.products[i].markings[j].i].inks[k]\n    aux.products[i] = calculatePrices(aux.products[i])\n    setQuote(aux)\n  }\n\n  const deleteMarking = (i, j) => {\n    let aux = { ...quote }\n    aux.products[i].markings.splice(j, 1)\n    setQuote(aux)\n  }\n\n  const onChangePrice = (i, j) => {\n    let aux = { ...quote }\n    aux.products[i].price = aux.products[i].product.prices[j].price\n    aux.products[i].priceDescription = aux.products[i].product.prices[j].description\n    aux.products[i] = calculatePrices(aux.products[i])\n    setQuote(aux)\n  }\n\n  const onTypePriceChange = (i, v) => {\n    let aux = { ...quote }\n    aux.products[i].typeOfPrice = v\n    aux.products[i] = calculatePrices(aux.products[i])\n    setQuote(aux)\n  }\n\n  const onChangeObservations = (i, v) => {\n    let aux = { ...quote }\n    aux.products[i].observations = v.target.value\n    setQuote(aux)\n  }\n\n  const applyDiscount = (v, i) => {\n    let aux = { ...quote }\n    aux.products[i].discount = v.target.checked\n    aux.products[i] = calculatePrices(aux.products[i])\n    setQuote(aux)\n  }\n\n  const applyUsbDiscount = (v, i) => {\n    let aux = { ...quote }\n    aux.products[i].usbDiscount = v.target.checked\n    aux.products[i] = calculatePrices(aux.products[i])\n    setQuote(aux)\n  }\n\n  if (loading) return (\n    <div>\n      <Loading cover=\"content\" />\n    </div>\n  )\n\n  const columns = [\n    {\n      title: 'Bodega Local',\n      dataIndex: 'bodegaLocal',\n      key: 'bodegaLocal',\n    },\n    {\n      title: 'Bodega Zona Franca',\n      dataIndex: 'bodegaZonaFranca',\n      key: 'bodegaZonaFranca',\n    },\n    {\n      title: 'Cantidad Transito',\n      dataIndex: 'cantidadTransito',\n      key: 'cantidadTransito',\n    },\n    {\n      title: 'Color',\n      dataIndex: 'color',\n      key: 'color',\n    },\n    {\n      title: 'Estado de la orden',\n      dataIndex: 'estadoOrden',\n      key: 'estadoOrden',\n    },\n    {\n      title: 'Llegada Bodega Local',\n      dataIndex: 'llegadaBodegaLocal',\n      key: 'llegadaBodegaLocal',\n    },\n    {\n      title: 'Total Disponible',\n      dataIndex: 'totalDisponible',\n      key: 'totalDisponible',\n    },\n  ]\n\n  return (\n    <div>\n      <Modal\n        visible={isOpen}\n        onOk={() => setIsOpen(false)}\n        onCancel={() => setIsOpen(false)}\n        footer={<></>}\n        width={1000}\n      >\n        {stock[0]?.referencia &&\n          <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n            <h2>{stock[0].referencia}</h2>\n          </div>\n        }\n        {stock !== 'loading' ?\n          < Table columns={columns} dataSource={stock} rowKey='id' /> :\n          <div style={{ height: '200px' }}>\n            <Loading cover=\"content\" />\n          </div>\n        }\n      </Modal>\n      <Card>\n        <Form onFinish={(form) => onFinish(form, setLoading, history)}>\n          <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-between' }}>\n            <Form.Item label='Razon social' name={['customer']} rules={[{ required: true }]} initialValue={customer}>\n              <Select\n                showSearch\n                style={{ width: 200 }}\n                placeholder=\"Selecciona un cliente\"\n                optionFilterProp=\"children\"\n                value={customer}\n                onChange={onChangeCustomer}\n              >\n                {customers.map((p, i) => (\n                  <Option value={i} key={p._id}>{p.businessName} - {p.name}</Option>\n                ))}\n              </Select>\n            </Form.Item>\n            <Form.Item label=\"Vendedor\">\n              <Input\n                name='seller'\n                value={quote.seller}\n                placeholder='Vendedor'\n                style={{ width: 150 }}\n                onChange={(v) => setQuote({ ...quote, seller: v.target.value })} />\n            </Form.Item>\n            <Form.Item label=\"Tiempo de entrega\">\n              <Input\n                name='deliveryTime'\n                value={quote.deliveryTime}\n                placeholder='Tiempo de entrega'\n                style={{ width: 150 }}\n                onChange={(v) => setQuote({ ...quote, deliveryTime: v.target.value })} />\n            </Form.Item>\n            <Form.Item label=\"Validez de la propuesta\">\n              <Input\n                name='validityPeriod'\n                value={quote.validityPeriod}\n                placeholder='Validez de la propuesta'\n                style={{ width: 150 }}\n                onChange={(v) => setQuote({ ...quote, validityPeriod: v.target.value })} />\n            </Form.Item>\n            <Form.Item label=\"Forma de pago\">\n              <Input\n                name='wayToPay'\n                value={quote.wayToPay}\n                placeholder='Forma de pago'\n                style={{ width: 150 }}\n                onChange={(v) => setQuote({ ...quote, wayToPay: v.target.value })} />\n            </Form.Item>\n            <Form.Item label=\"Observaciones\">\n              <Input.TextArea\n                name='generalObservations'\n                value={quote.generalObservations}\n                placeholder='Observaciones generales'\n                style={{ width: 150 }}\n                onChange={(v) => setQuote({ ...quote, generalObservations: v.target.value })} />\n            </Form.Item>\n          </div>\n          {quote.products.map((product, i) => (\n            <Card key={i}>\n              <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-between' }}>\n                <Form.Item style={{ marginRight: '15px' }} label='Producto' rules={[{ required: true }]}>\n                  <Select\n                    showSearch\n                    style={{ width: 200 }}\n                    onChange={(v) => onChangeProduct(v, i)}\n                    placeholder=\"Selecciona una producto\"\n                    optionFilterProp=\"children\"\n                    filterOption={(input, option) =>\n                      option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                    }\n                  >\n                    {products.map((p, j) => (\n                      <Option value={j} key={`${i}-${p._id}`}>{p.sku}</Option>\n                    ))}\n                  </Select>\n                </Form.Item>\n                {product.product &&\n                  <Button onClick={() => openStock(product.product.sku)}>Ver Stock</Button>\n                }\n                <Button style={{ backgroundColor: '#ff7575' }} onClick={() => deleteProduct(i)}>\n                  <DeleteFilled style={{ color: 'white', fontSize: '20px' }} />\n                </Button>\n              </div>\n              {product.product &&\n                <>\n                  <Card>\n                    <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-around', flexWrap: 'wrap' }}>\n                      <Card style={{ marginRight: '20px', display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n                        <img crossOrigin={null} src={product.product.photo && product.product.photo[0] === '/' ? `https://catalogospromocionales.com${product.product.photo}` : product.product.photo} style={{ objectFit: 'contain', width: '200px' }} alt={product.product.name} />\n                      </Card>\n                      <div style={{ width: '230px', display: 'flex', flexDirection: 'column' }}>\n                        <div style={{ display: 'flex', flexDirection: 'column' }}>\n                          <p style={{ marginRight: '10px', marginBottom: '0px', fontWeight: '900' }}>Nombre:</p>\n                          <p style={{ marginRight: '10px', marginBottom: '0px', fontWeight: '300' }}>{product.product.name}</p>\n                        </div>\n                        <div style={{ display: 'flex', flexDirection: 'column' }}>\n                          <p style={{ marginRight: '10px', marginBottom: '0px', fontWeight: '900' }}>SKU:</p>\n                          <p style={{ marginRight: '10px', marginBottom: '0px', fontWeight: '300' }}>{product.product.sku}</p>\n                        </div>\n                        <div style={{ display: 'flex', flexDirection: 'column' }}>\n                          <p style={{ marginRight: '10px', marginBottom: '0px', fontWeight: '900' }}>Descripcion:</p>\n                          <div dangerouslySetInnerHTML={{ __html: `<div>${product.product.description}</div>` }} />\n                        </div>\n                        <Form.Item style={{ marginRight: '15px', width: '200px', marginBottom: '5px' }} label='Precio' rules={[{ required: true }]}>\n                          <Select\n                            showSearch\n                            style={{ width: 200 }}\n                            value={`$${product.price.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}`}\n                            onChange={(v) => onChangePrice(i, v)}\n                            placeholder=\"Selecciona un precio\"\n                            optionFilterProp=\"children\"\n                          >\n                            {product.product.prices.map((p, j) => (\n                              <Option value={j} key={`prices${i}-${j}`}>${p.price.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}</Option>\n                            ))}\n                          </Select>\n                        </Form.Item>\n                        <div style={{ display: 'flex', flexDirection: 'column' }}>\n                          <p style={{ marginRight: '10px', marginBottom: '0px', fontWeight: '900' }}>Descripcion del precio:</p>\n                          <p style={{ marginRight: '10px', marginBottom: '0px', fontWeight: '700', color: 'red' }}>{product.priceDescription}</p>\n                        </div>\n                        <Form.Item style={{ marginRight: '15px', marginBottom: '5px' }} label='Tipo' rules={[{ required: true }]}>\n                          <Select\n                            showSearch\n                            style={{ width: 200 }}\n                            onChange={(v) => onTypePriceChange(i, v)}\n                            placeholder=\"Selecciona el tipo de precio\"\n                            optionFilterProp=\"children\"\n                            value={product.typeOfPrice}\n                            filterOption={(input, option) =>\n                              option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                            }\n                          >\n                            <Option value={'net'}>Neto</Option>\n                            <Option value={'offer'}>Oferta</Option>\n                            <Option value={'full'}>Normal / Full</Option>\n                          </Select>\n                        </Form.Item>\n                        <Checkbox style={{ marginLeft: 10 }} checked={product.discount} onChange={(v) => applyDiscount(v, i)}>\n                          Aplicar descuento\n                        </Checkbox>\n                        <Checkbox style={{ marginLeft: 10 }} checked={product.usbDiscount} onChange={(v) => applyUsbDiscount(v, i)}>\n                          Aplicar descuento USB\n                        </Checkbox>\n                        <Form.Item label=\"Observaciones\" style={{ width: 200, marginRight: '15px' }} rules={[{ required: true }]}>\n                          <Input.TextArea style={{ minWidth: '220px' }} name='observations' value={product.observations} placeholder='Observaciones' onChange={(v) => onChangeObservations(i, v)} />\n                        </Form.Item>\n                      </div>\n                      <div style={{ minWidth: '550px', display: 'flex', flexDirection: 'column' }}>\n                        {product?.markings?.map((m, j) => (\n                          <div key={`marking ${i}-${j}`}>\n                            <div style={{ display: 'flex', flexDirection: 'row', alignItems: 'center', justifyContent: 'space-between' }}>\n                              <Form.Item label='Marcacion' style={{ marginBottom: '0px' }} rules={[{ required: true }]} initialValue={markings.findIndex(item => item.name === m.name) === m.i ? m.i : null}>\n                                <Select\n                                  showSearch\n                                  style={{ width: 160 }}\n                                  placeholder=\"Selecciona una marcaciÃ³n\"\n                                  onChange={(k) => onChangeMarking(i, j, k)}\n                                  optionFilterProp=\"children\"\n                                  value={markings.findIndex(item => item.name === m.name)}\n                                  filterOption={(input, option) =>\n                                    option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                                  }\n                                >\n                                  {markings?.map((p, k) => (\n                                    <Option value={k} key={`${i}-${j}-${p._id}`}>{p.name}</Option>\n                                  ))}\n                                </Select>\n                              </Form.Item>\n                              <Button style={{ backgroundColor: '#ff7575' }} onClick={() => deleteMarking(i, j)}>\n                                <DeleteFilled style={{ color: 'white', fontSize: '20px' }} />\n                              </Button>\n                            </div>\n                            {m?.name && markings[m.i]?.inks?.length > 0 &&\n                              <Form.Item label='Tintas' style={{ marginBottom: '0px', marginTop: 10 }} rules={[{ required: true }]} initialValue={markings[m.i].inks.findIndex(item => item?._id === m.ink?._id) >= 0 ? markings[m.i].inks.indexOf(m.ink) : null}>\n                                <Select\n                                  showSearch\n                                  style={{ width: 160 }}\n                                  placeholder=\"Tintas\"\n                                  value={markings[m.i].inks.findIndex(item => item?._id === m.ink?._id) >= 0 ? markings[m.i].inks.findIndex(item => item._id === m.ink._id) : null}\n                                  onChange={(k) => onChangeInk(i, j, k)}\n                                  optionFilterProp=\"children\"\n                                  filterOption={(input, option) =>\n                                    option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                                  }\n                                >\n                                  {markings[m.i]?.inks?.map((ink, k) => (\n                                    <Option value={k} key={`ink ${i - j - k}`}>{ink.name}</Option>\n                                  ))}\n                                </Select>\n                              </Form.Item>\n                            }\n                            <div style={{ display: 'flex', flexDirection: 'row', alignItems: 'center', justifyContent: 'space-between', flexWrap: 'wrap', width: 500 }}>\n                              <Form.Item label=\"Cantidad\" style={{ width: 100, marginRight: '15px' }} rules={[{ required: true }]}>\n                                <Input\n                                  name='amount'\n                                  value={m.amount.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\n                                  placeholder='Cantidad'\n                                  style={{ width: 100 }}\n                                  onChange={(v) => onChangeHandlerMark(v, i, j)} />\n                              </Form.Item>\n                              <Form.Item label=\"Flete\" style={{ width: 100, marginRight: '15px' }} rules={[{ required: true }]}>\n                                <Input\n                                  prefix='$'\n                                  name='freight'\n                                  value={m.freight.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\n                                  placeholder='Flete'\n                                  style={{ width: 100 }}\n                                  onChange={(v) => onChangeHandlerMark(v, i, j)} />\n                              </Form.Item>\n                              <Form.Item label=\"Utilidad %\" style={{ width: 100, marginRight: '15px' }} rules={[{ required: true }]}>\n                                <Input\n                                  suffix='%'\n                                  name='profit'\n                                  value={m.profit.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\n                                  placeholder='Utilidad'\n                                  style={{ width: 70 }}\n                                  onChange={(v) => onChangeHandlerMark(v, i, j)} />\n                              </Form.Item>\n                              <Form.Item label=\"Precio Neto\" style={{ width: 100, marginRight: '15px' }} rules={[{ required: true }]}>\n                                <Input\n                                  prefix='$'\n                                  value={Number.parseInt(m.netPrice).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\n                                  placeholder='Precio neto'\n                                  style={{ width: 110 }}\n                                />\n                              </Form.Item>\n                              <Form.Item label=\"Marcacion\" style={{ width: 100, marginRight: '15px' }} rules={[{ required: true }]}>\n                                <Input\n                                  prefix='$'\n                                  name='markingPrice'\n                                  value={Number.parseInt(m.markingPrice).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\n                                  placeholder='Precio de marcacion'\n                                  style={{ width: 110 }}\n                                  onChange={(v) => onChangeHandlerMark(v, i, j)} />\n                              </Form.Item>\n                              <Form.Item label=\"Precio unitario\" style={{ width: 100, marginRight: '15px' }} rules={[{ required: true }]}>\n                                <Input\n                                  prefix='$'\n                                  name='unitPrice'\n                                  value={Number.parseInt(m.unitPrice).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\n                                  placeholder='Precio unitario'\n                                  style={{ width: 110 }}\n                                  onChange={(v) => onChangeHandlerMark(v, i, j)} />\n                              </Form.Item>\n                              <Form.Item label=\"Total\" style={{ width: 130, marginRight: '15px' }} rules={[{ required: true }]}>\n                                <Input\n                                  prefix='$'\n                                  name='totalPrice'\n                                  value={Number.parseInt(m.totalPrice).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\n                                  placeholder='Precio Total'\n                                  style={{ width: 130 }}\n                                  onChange={(v) => onChangeHandlerMark(v, i, j)} />\n                              </Form.Item>\n                            </div>\n                            <Divider style={{ margin: '15px' }} />\n                          </div>\n                        ))}\n                        <Button onClick={() => addMarking(i)}>\n                          Agregar escala\n                        </Button>\n                      </div>\n                    </div>\n                  </Card>\n                </>\n              }\n            </Card>\n          ))}\n          <div style={{ display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\n            <Button onClick={addProduct} style={{ fontSize: '25px', fontWeight: '900', height: '60px' }}>\n              Agregar Producto\n            </Button>\n          </div>\n          <Form.Item >\n            <Button type=\"primary\" onClick={() => onFinish(quote, setLoading, history)} style={{ marginTop: '15px' }}>\n              Guardar\n            </Button>\n          </Form.Item>\n        </Form>\n      </Card >\n    </div >\n  )\n}\n\nexport default EditQuote\n"],"names":["Option","Select","onFinish","data","setLoading","history","jwt","localStorage","getItem","options","url","API_BASE_URL","method","headers","axios","message","content","push","APP_PREFIX_PATH","console","error","getStock","sku","stock","match","useState","loading","customers","setCustomers","customer","setCustomer","products","setProducts","markings","setMarkings","setStock","isOpen","setIsOpen","discount","setDiscount","usbDiscount","setUsbDiscount","wayToPay","validityPeriod","deliveryTime","seller","generalObservations","product","price","typeOfPrice","priceDescription","freight","profit","netPrice","amount","markingPrice","unitPrice","totalPrice","name","ink","i","observations","quote","setQuote","quoteId","params","quoteid","useEffect","CancelToken","init","res","sort","a","b","cancel","calculatePrices","isMark","forEach","mark","j","ranges","length","inRange","range","min","max","outOfRangeDiscount","sum","ran","minTotalPrice","outOfRangePrice","parseInt","openStock","onChangeHandlerMark","v","value","target","toString","replace","aux","cover","visible","onOk","onCancel","footer","width","referencia","style","display","flexDirection","alignItems","columns","title","dataIndex","key","dataSource","rowKey","height","form","justifyContent","label","rules","required","initialValue","showSearch","placeholder","optionFilterProp","onChange","map","p","_id","businessName","marginRight","prices","description","onChangeProduct","filterOption","input","option","props","children","toLowerCase","indexOf","onClick","backgroundColor","splice","deleteProduct","color","fontSize","flexWrap","crossOrigin","src","photo","objectFit","alt","marginBottom","fontWeight","dangerouslySetInnerHTML","__html","onChangePrice","onTypePriceChange","marginLeft","checked","applyDiscount","applyUsbDiscount","minWidth","onChangeObservations","m","findIndex","item","k","onChangeMarking","deleteMarking","inks","marginTop","onChangeInk","prefix","suffix","Number","margin","addMarking","type"],"sourceRoot":""}