"use strict";(self.webpackChunkCotizador=self.webpackChunkCotizador||[]).push([[196],{69196:function(e,t,a){a.r(t);var r=a(66677),n=a(10389),l=a(9817),o=a(99499),c=a(43693),u=a(7738),s=a(4569),i=a(50465),m=a(84762),p=a(81787),d=a(51535),Z=a(33916),f=a(89579),g=a(97424),E=a(98848),b=a(43157),h=a.n(b),v=a(92210),C=a(46993),w=a(57209),x={labelCol:{span:4},wrapperCol:{span:14}},y={required:"This field is required!",types:{email:"Not a validate email!",number:"Not a validate number!"},number:{range:"Must be between ${min} and ${max}"}},k=function(e){return e.fileList[1]?[e.fileList[1]]:e.fileList[0]?[e.fileList[0]]:[]};Object.filter=function(e,t){return Object.keys(e).filter((function(a){return t(e[a])})).reduce((function(t,a){return t[a]=e[a],t}),{})};t.default=function(e){var t=e.history,a=(e.match,(0,u.useContext)(w.S).updateUser),b=(0,u.useState)(null),I=(0,c.Z)(b,2),j=I[0],N=I[1],T=(0,u.useState)(!0),L=(0,c.Z)(T,2),q=L[0],F=L[1],P=(0,u.useRef)(null);(0,u.useEffect)((function(){var e=function(){var e=(0,o.Z)((0,l.Z)().mark((function e(){var t,a,r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("jwt"),e.prev=1,!t){e.next=10;break}return a={method:"GET",url:E.CT+"/user/loginjwt",headers:{"jwt-token":t}},e.next=6,h().request(a);case 6:r=e.sent,N(r.data),e.next=11;break;case 10:N(null);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),localStorage.removeItem("jwt");case 17:F(!1);case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var S=function(){var e=(0,o.Z)((0,l.Z)().mark((function e(r){var n,o,c,u,i,m,p;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o in F(!0),n=Object.filter(r,(function(e){return void 0!==e})),n)null===n[o]&&(n[o]="");for(i in c=localStorage.getItem("jwt"),u=new FormData,n)"logo"!==i&&"logo2"!==i?(m=n[i],u.append(i,m)):u.append(i,r[i][0].originFileObj);return e.prev=6,p={url:E.CT+"/user/",method:"PUT",data:u,headers:{"Content-Type":"multipart/form-data","jwt-token":c}},e.next=10,h().request(p);case 10:return e.next=12,a();case 12:s.ZP.success({content:"Usuario editado con exito"}),F(!1),t.push(E.sH+"/users"),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(6),F(!1),console.error(e.t0);case 21:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(t){return e.apply(this,arguments)}}(),z=function(e,t){N((0,n.Z)((0,n.Z)({},j),{},(0,r.Z)({},t,e.hex))),P.current.setFieldsValue((0,r.Z)({},t,e.hex))};return q?u.createElement(v.Z,{cover:"content"}):u.createElement(i.Z,null,u.createElement(m.Z,Object.assign({},x,{name:"add-user",onFinish:S,validateMessages:y,initialValues:(0,n.Z)({},j),ref:P}),u.createElement(m.Z.Item,{name:["name"],label:"Nombre",rules:[{required:!0}]},u.createElement(p.Z,null)),u.createElement(m.Z.Item,{name:["email"],label:"Correo",rules:[{type:"email",required:!0}]},u.createElement(p.Z,null)),u.createElement(m.Z.Item,{name:["logo"],label:"Logo",valuePropName:"logo",getValueFromEvent:k},u.createElement(d.Z.Dragger,{style:{width:"300px"},method:"get",accept:"image/*",name:"logo",action:"/upload.do",multiple:!1,onChange:k,onPreview:!0},u.createElement("p",{className:"ant-upload-drag-icon"},u.createElement(g.Z,null)),u.createElement("p",{className:"ant-upload-text",style:{color:"black"}},"Haz click o arrastra tu logo a esta area"))),u.createElement(m.Z.Item,{name:["logo2"],label:"Logo2",valuePropName:"logo2",getValueFromEvent:k},u.createElement(d.Z.Dragger,{style:{width:"300px"},method:"get",accept:"image/*",name:"logo2",action:"/upload.do",multiple:!1,onChange:k,onPreview:!0},u.createElement("p",{className:"ant-upload-drag-icon"},u.createElement(g.Z,null)),u.createElement("p",{className:"ant-upload-text",style:{color:"black"}},"Haz click o arrastra tu logo a esta area"))),u.createElement(m.Z.Item,{name:["phone"],label:"Telefono"},u.createElement(Z.Z,{style:{width:"200px"}})),u.createElement(m.Z.Item,{name:["webAddress"],label:"Direccion web"},u.createElement(p.Z,null)),u.createElement(m.Z.Item,{name:["address"],label:"Direccion"},u.createElement(p.Z,null)),u.createElement(m.Z.Item,{name:["businessName"],label:"Razon social"},u.createElement(p.Z,null)),u.createElement(m.Z.Item,{name:["nit"],label:"NIT"},u.createElement(Z.Z,{style:{width:"200px"}})),u.createElement(m.Z.Item,{name:["mainColor"],label:"Color principal"},u.createElement(C.Z,{colorChange:function(e){return z(e,"mainColor")},color:j.mainColor})),u.createElement(m.Z.Item,{name:["secondaryColor"],label:"Color secundario"},u.createElement(C.Z,{colorChange:function(e){return z(e,"secondaryColor")},color:j.secondaryColor})),u.createElement(m.Z.Item,{wrapperCol:(0,n.Z)((0,n.Z)({},x.wrapperCol),{},{offset:4})},u.createElement(f.Z,{type:"primary",htmlType:"submit"},"Guardar"),u.createElement(f.Z,{type:"ghost",onClick:function(){return t.push(E.sH+"/users")},style:{marginLeft:"15px"}},"Volver"))))}}}]);
//# sourceMappingURL=196.8a592448.chunk.js.map