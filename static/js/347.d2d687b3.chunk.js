"use strict";(self.webpackChunkCotizador=self.webpackChunkCotizador||[]).push([[347],{40347:function(e,t,r){r.r(t);var a=r(9817),s=r(99499),n=r(43693),c=r(7738),o=r(84762),l=r(4569),i=r(65658),u=r(1332),m=r(50465),d=r(81787),p=r(89579),h=r(34268),f=r(43157),v=r.n(f),w=r(98848),Z={backgroundImage:"url(/img/others/img-17.jpg)",backgroundRepeat:"no-repeat",backgroundSize:"cover"};t.default=function(e){var t=e.history,r=e.match,f=o.Z.useForm(),g=(0,n.Z)(f,1)[0],E=(0,c.useState)(!0),k=(0,n.Z)(E,2),y=k[0],x=k[1],b=r.params.token;(0,c.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:w.CT+"/auth/checkresetpasswordtoken",method:"GET",headers:{"Content-Type":"application/json","reset-password-token":b}},e.next=4,v().request(r);case 4:e.sent.data?x(!1):(t.push(w.vU+"/login"),l.ZP.error("This URL has expired")),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),t.push(w.vU+"/login"),l.ZP.error("This URL has expired");case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var P=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(r){var s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,s={url:w.CT+"/auth/resetpassword2/",method:"POST",data:{password:r.password},headers:{"Content-Type":"application/json","reset-password-token":b}},e.next=5,v().request(s);case 5:l.ZP.success("Password changed successfully"),t.push(w.vU+"/login"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),l.ZP.error(e.t0.response.data.message);case 13:x(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return c.createElement("div",{className:"h-100",style:Z},c.createElement("div",{className:"container d-flex flex-column justify-content-center h-100"},c.createElement(i.Z,{justify:"center"},c.createElement(u.Z,{xs:20,sm:20,md:20,lg:9},c.createElement(m.Z,null,c.createElement("div",{className:"my-2"},c.createElement("div",{className:"text-center"},c.createElement("img",{className:"img-fluid",src:"/img/logo.png",alt:""}),c.createElement("h3",{className:"mt-3 font-weight-bold"},"Reset Password"),c.createElement("p",{className:"mb-4"},"Enter your new password")),c.createElement(i.Z,{justify:"center"},c.createElement(u.Z,{xs:24,sm:24,md:20,lg:20},c.createElement(o.Z,{form:g,layout:"vertical",name:"reset-password",onFinish:P},c.createElement(o.Z.Item,{name:["password"],label:"New Password",rules:[{required:!0,message:"Please input your new password"}],hasFeedback:!0},c.createElement(d.Z.Password,{prefix:c.createElement(h.Z,{className:"text-primary"})})),c.createElement(o.Z.Item,{name:["confirm"],label:"ConfirmPassword",rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,r){return r&&t("password")!==r?Promise.reject("Passwords do not match!"):Promise.resolve()}}}],hasFeedback:!0},c.createElement(d.Z.Password,{prefix:c.createElement(h.Z,{className:"text-primary"})})),c.createElement(o.Z.Item,null,c.createElement(p.Z,{loading:y,type:"primary",htmlType:"submit",block:!0},y?"Sending":"Send")))))))))))}},34268:function(e,t,r){r.d(t,{Z:function(){return l}});var a=r(1413),s=r(7738),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},c=r(4622),o=function(e,t){return s.createElement(c.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:t,icon:n}))};o.displayName="LockOutlined";var l=s.forwardRef(o)}}]);
//# sourceMappingURL=347.d2d687b3.chunk.js.map