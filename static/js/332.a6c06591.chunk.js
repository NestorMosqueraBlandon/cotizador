"use strict";(self.webpackChunkCotizador=self.webpackChunkCotizador||[]).push([[332],{64332:function(e,t,n){n.r(t);var r=n(10389),a=n(9817),i=n(99499),l=n(43693),o=n(7738),c=n(4569),m=n(50465),s=n(84762),u=n(81787),f=n(89579),p=n(98848),g=n(643),d=n(43157),h=n.n(d),v=n(92210),x={labelCol:{span:4},wrapperCol:{span:14}},y={required:"This field is required!",types:{email:"Not a validate email!",number:"Not a validate number!"},number:{range:"Must be between ${min} and ${max}"}};Object.filter=function(e,t){return Object.keys(e).filter((function(n){return t(e[n])})).reduce((function(t,n){return t[n]=e[n],t}),{})};t.default=function(e){var t=e.history,n=e.match,d=(0,o.useState)({name:"",inks:[{name:"",minTotalPrice:"",outOfRangePrice:"",ranges:[{min:"",max:"",price:""}]}]}),E=(0,l.Z)(d,2),Z=E[0],k=E[1],w=(0,o.useState)(!0),C=(0,l.Z)(w,2),b=C[0],P=C[1],T=n.params.markingId;(0,o.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var t,n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("jwt"),e.prev=1,n={url:p.CT+"/marking/"+T,method:"GET",data:Z,headers:{"Content-Type":"application/json","jwt-token":t}},e.next=5,h().request(n);case 5:r=e.sent.data,k(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:P(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var j=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("jwt"),e.prev=1,r={url:p.CT+"/marking/",method:"PUT",data:Z,headers:{"Content-Type":"application/json","jwt-token":n}},e.next=5,h().request(r);case 5:c.ZP.success({content:"Marcaci\xf3n editada con exito"}),t.push(p.sH+"/markings"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),D=function(e,t){if("name"===e.target.name){console.log(e.target.value);var n=(0,r.Z)({},Z);n.inks[t][e.target.name]=e.target.value,k(n)}else{var a=Number(e.target.value);if(Number.isInteger(a)&&a>=0||""===e.target.value){var i=(0,r.Z)({},Z);i.inks[t][e.target.name]=e.target.value,k(i)}}},I=function(e,t,n){var a=Number(e.target.value);if(Number.isInteger(a)&&a>0||""===e.target.value){var i=(0,r.Z)({},Z);i.inks[t].ranges[n][e.target.name]=e.target.value,k(i)}};return b?o.createElement(v.Z,{cover:"content"}):o.createElement(m.Z,{title:"Editar marcaci\xf3n"},o.createElement(s.Z,Object.assign({},x,{name:"add-marking",onFinish:j,validateMessages:y}),o.createElement(s.Z.Item,{label:"Nombre",rules:[{required:!0}]},o.createElement(u.Z,{value:Z.name,onChange:function(e){return k((0,r.Z)((0,r.Z)({},Z),{},{name:e.target.value}))}})),Z.inks.map((function(e,t){return o.createElement(m.Z,{title:"Tinta ".concat(t+1),key:t},o.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},o.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around"}},o.createElement("div",{style:{display:"flex",flexDirection:"row",width:"280px",alignItems:"center"}},o.createElement("p",{style:{marginBottom:"0px",marginRight:"10px",fontWeight:"900"}},"Nombre de tinta:"),o.createElement(u.Z,{value:e.name,name:"name",placeholder:"Nombre de tinta",onChange:function(e){return D(e,t)},style:{width:"150px"}})),o.createElement("div",{style:{display:"flex",flexDirection:"row",width:"280px",alignItems:"center"}},o.createElement("p",{style:{marginBottom:"0px",marginRight:"10px",fontWeight:"900"}},"Precio minimo:"),o.createElement(u.Z,{value:e.minTotalPrice,name:"minTotalPrice",placeholder:"Precio minimo",onChange:function(e){return D(e,t)},style:{width:"150px"}})),o.createElement("div",{style:{display:"flex",flexDirection:"row",width:"280px",alignItems:"center"}},o.createElement("p",{style:{marginBottom:"0px",marginRight:"10px",fontWeight:"900"}},"Precio unitario fuera de rango:"),o.createElement(u.Z,{value:e.outOfRangePrice,name:"outOfRangePrice",placeholder:"Precio unitario fuera de rango",onChange:function(e){return D(e,t)}}))),o.createElement(f.Z,{style:{backgroundColor:"#ff7575"},onClick:function(){return function(e){var t=(0,r.Z)({},Z);t.inks.splice(e,1),k(t)}(t)}},o.createElement(g.Z,{style:{color:"white",fontSize:"20px"}}))),o.createElement("div",null,e.ranges.map((function(e,n){return o.createElement(m.Z,{title:"Rango ".concat(n+1),key:"".concat(t,"-").concat(n)},o.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around"}},o.createElement("div",{style:{display:"flex",flexDirection:"row",width:"280px",alignItems:"center"}},o.createElement("p",{style:{marginBottom:"0px",marginRight:"10px",fontWeight:"900"}},"Desde:"),o.createElement(u.Z,{value:e.min,name:"min",placeholder:"Desde",onChange:function(e){return I(e,t,n)}})),o.createElement("div",{style:{display:"flex",flexDirection:"row",width:"280px",alignItems:"center"}},o.createElement("p",{style:{marginBottom:"0px",marginRight:"10px",fontWeight:"900"}},"Hasta:"),o.createElement(u.Z,{value:e.max,name:"max",placeholder:"Hasta",onChange:function(e){return I(e,t,n)}})),o.createElement("div",{style:{display:"flex",flexDirection:"row",width:"280px",alignItems:"center"}},o.createElement("p",{style:{marginBottom:"0px",marginRight:"10px",fontWeight:"900"}},"Precio unitario:"),o.createElement(u.Z,{value:e.price,name:"price",placeholder:"Precio",onChange:function(e){return I(e,t,n)}}))),o.createElement(f.Z,{style:{backgroundColor:"#ff7575",marginTop:"20px"},onClick:function(){return function(e,t){var n=(0,r.Z)({},Z);n.inks[e].ranges.splice(t,1),k(n)}(t,n)}},o.createElement(g.Z,{style:{color:"white",fontSize:"20px"}})))})),o.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",marginBottom:"15px"}},o.createElement(f.Z,{onClick:function(){return function(e){var t=(0,r.Z)({},Z);t.inks[e].ranges.push({min:0,max:0,price:0}),k(t)}(t)},style:{fontSize:"25px",fontWeight:"900",height:"60px"}},"Agregar Rango"))))})),o.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",marginBottom:"15px"}},o.createElement(f.Z,{onClick:function(){var e=(0,r.Z)({},Z);e.inks.push({name:"",minTotalPrice:0,outOfRangePrice:0,ranges:[{min:0,max:0,price:0}]}),k(e)},style:{fontSize:"25px",fontWeight:"900",height:"60px"}},"Agregar Tinta")),o.createElement(s.Z.Item,null,o.createElement(f.Z,{type:"primary",htmlType:"submit"},"Guardar"),o.createElement(f.Z,{type:"ghost",onClick:function(){return t.push(p.sH+"/markings")},style:{marginLeft:"15px"}},"Volver"))))}},643:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(1413),a=n(7738),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z"}}]},name:"delete",theme:"filled"},l=n(4622),o=function(e,t){return a.createElement(l.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:i}))};o.displayName="DeleteFilled";var c=a.forwardRef(o)}}]);
//# sourceMappingURL=332.a6c06591.chunk.js.map