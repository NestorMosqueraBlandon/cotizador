{"version":3,"file":"static/js/749.d2f0f5a1.chunk.js","mappings":"gSAOMA,EAAS,CACbC,SAAU,CAAEC,KAAM,GAClBC,WAAY,CAAED,KAAM,KAGhBE,EAAmB,CACvBC,SAAU,0BACVC,MAAO,CACLC,MAAO,wBACPC,OAAQ,0BAEVA,OAAQ,CACNC,MAAO,sCAIXC,OAAOC,OAAS,SAACC,EAAKC,GAAS,OAC7BH,OAAOI,KAAKF,GACTD,QAAO,SAAAI,GAAG,OAAIF,EAAUD,EAAIG,GAAK,IACjCC,QAAO,SAACC,EAAKF,GAAG,OAAME,EAAIF,GAAOH,EAAIG,GAAME,CAAG,GAAG,CAAC,EAAG,EA8I1D,UA5IoB,SAAH,GAA4B,IAAtBC,EAAO,EAAPA,QAASC,EAAK,EAALA,MAC9B,GAA8BC,EAAAA,EAAAA,UAAS,MAAK,eAArCC,EAAO,KAAEC,EAAU,KAC1B,GAA4BF,EAAAA,EAAAA,UAAS,IAAG,eAAjCG,EAAM,KAAEC,EAAS,KACxB,GAA8BJ,EAAAA,EAAAA,WAAS,GAAK,eAArCK,EAAO,KAAEC,EAAU,KACpBC,EAAYR,EAAMS,OAAOC,WAE/BC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAI,yCAAG,6FAUR,OAVQ,SAEHC,EAAMC,aAAaC,QAAQ,OAC3BC,EAAU,CACdC,IAAKC,EAAAA,GAAe,YAAcV,EAClCW,OAAQ,MACRC,QAAS,CACP,eAAgB,mBAChB,YAAaP,IAEhB,SACeQ,IAAAA,QAAcL,GAAQ,OAAlClB,EAAG,OACPK,EAAWL,EAAIwB,MACfjB,EAAUP,EAAIwB,KAAKlB,QACnBG,GAAW,GAAM,kDAEjBgB,QAAQC,IAAI,EAAD,IAAQ,0DAEtB,kBAlBS,mCAmBVZ,GACF,GAAG,CAACJ,IAGJ,IAAMiB,EAAQ,yCAAG,WAAOC,GAAI,gFAgBvB,OAdCJ,EAAO/B,OAAOC,OAAOkC,GAAM,SAAAC,GAAI,YAAaC,IAATD,CAAkB,KACpDE,IAAMrB,EACXc,GAAI,kBAAQA,GAAI,IAAElB,OAAAA,IAClBkB,GAAI,kBAAQA,GAAI,IAAEQ,SAAQ5B,EAAQ4B,SAC5BjB,EAAMC,aAAaC,QAAQ,OAAM,SAE/BC,EAAU,CACdC,IAAKC,EAAAA,GAAe,YACpBC,OAAQ,MACRG,KAAAA,EACAF,QAAS,CACP,eAAgB,mBAChB,YAAaP,IAEhB,SACKQ,IAAAA,QAAcL,GAAQ,OAC5Be,EAAAA,GAAAA,QAAgB,CAAEC,QAAS,+BAC3BzB,GAAW,GACXR,EAAQkC,KAAKC,EAAAA,GAAkB,aAAY,kDAE3C3B,GAAW,GACXgB,QAAQY,MAAM,EAAD,IAAQ,0DAExB,gBAzBa,sCAoDd,OAAI7B,EACF,gBAAC,IAAO,CAAC8B,MAAM,YAIf,gBAAC,IAAI,KACH,gBAAC,IAAI,iBAAKvD,EAAM,CAAEwD,KAAK,cAAcZ,SAAUA,EAAUxC,iBAAkBA,EAAkBqD,eAAa,UAAOpC,KAC/G,gBAAC,SAAS,CAACmC,KAAM,CAAC,OAAQE,MAAM,MAAMC,MAAO,CAAC,CAAEtD,UAAU,KACxD,gBAAC,IAAK,OAER,gBAAC,SAAS,CAACmD,KAAM,CAAC,QAASE,MAAM,SAASC,MAAO,CAAC,CAAEtD,UAAU,KAC5D,gBAAC,IAAK,OAER,gBAAC,SAAS,CAACmD,KAAM,CAAC,UAAWE,MAAM,WACjC,gBAAC,IAAK,OAER,gBAAC,SAAS,CAACF,KAAM,CAAC,YAAaE,MAAM,kBACnC,gBAAC,IAAK,OAER,gBAAC,SAAS,CAACF,KAAM,CAAC,SAAUE,MAAM,YAChC,gBAAC,IAAK,OAER,gBAAC,SAAS,CAACF,KAAM,CAAC,eAAgBE,MAAM,kBACtC,gBAAC,aAAc,OAEhBnC,EAAOqC,KAAI,SAACC,EAAGC,GAAC,OACf,gBAAC,IAAI,CAAC/C,IAAG,UAAK+C,GAAKC,MAAK,iBAAYD,EAAI,IACtC,uBAAKE,MAAO,CAAEC,QAAS,OAAQC,cAAe,MAAOC,eAAgB,kBACnE,uBAAKH,MAAO,CAAEI,MAAO,QACnB,gBAAC,SAAS,CAACV,MAAM,UACf,gBAAC,IAAK,CAACW,MAAOR,EAAES,MAAMC,WAAWC,QAAQ,wBAAyB,KAAMC,SAAU,SAACC,GAAC,OAvD9E,SAACA,EAAGZ,GACxB,IAAMO,EAAQK,EAAEC,OAAON,MAAME,WAAWC,QAAQ,cAAe,IAC/D,IAAMH,EAAMlD,MAAM,eAAiBkD,EAAMlD,MAAM,UAAuB,KAAVkD,MACxDA,EAAQ,GAAZ,CACA,IAAIO,GAAG,OAAOrD,GACdqD,EAAId,GAAGQ,MAAkB,KAAVD,EAAeQ,SAASR,GAAS,EAChD7C,EAAUoD,EAHW,CAIvB,CAgDyGE,CAAcJ,EAAGZ,EAAE,KAE9G,gBAAC,SAAS,CAACJ,MAAM,eACf,gBAAC,aAAc,CAACW,MAAOR,EAAEkB,YAAaN,SAAU,SAACC,GAAC,OAjDjC,SAACA,EAAGZ,GACnC,IAAIc,GAAG,OAAOrD,GACdqD,EAAId,GAAGiB,YAAcL,EAAEC,OAAON,MAC9B7C,EAAUoD,EACZ,CA6CuEI,CAAyBN,EAAGZ,EAAE,MAGzF,gBAAC,IAAM,CAACmB,QAAS,kBA9CT,SAACnB,GACnB,IAAIc,GAAG,OAAOrD,GACdqD,EAAIM,OAAOpB,EAAG,GACdtC,EAAUoD,EACZ,CA0CmCO,CAAYrB,EAAE,GACnC,gBAAC,IAAY,CAACE,MAAO,CAAEoB,MAAO,WAG7B,IAET,gBAAC,SAAS,CAACjF,YAAU,kBAAOH,EAAOG,YAAU,IAAEkF,OAAQ,KACrD,gBAAC,IAAM,CAACJ,QA/CC,WACfzD,EAAU,GAAD,eAAKD,GAAM,CAAE,CAAE+C,MAAO,EAAGS,YAAa,MACjD,GA6CkC,mBAE5B,gBAAC,SAAS,CAAC5E,YAAU,kBAAOH,EAAOG,YAAU,IAAEkF,OAAQ,KACrD,gBAAC,IAAM,CAACC,KAAK,UAAUC,SAAS,UAAQ,WAGxC,gBAAC,IAAM,CAACD,KAAK,QAAQL,QAAS,kBAAM/D,EAAQkC,KAAKC,EAAAA,GAAkB,YAAY,EAAEW,MAAO,CAAEwB,WAAY,SAAS,YAOzH,C,8ECpKA,EADmB,CAAE,KAAQ,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,wQAA4Q,KAAQ,SAAU,MAAS,U,UCK7bC,EAAe,SAAsBC,EAAOC,GAC9C,OAAoBC,EAAAA,cAAoBC,EAAAA,GAAUC,EAAAA,EAAAA,IAAcA,EAAAA,EAAAA,GAAc,CAAC,EAAGJ,GAAQ,CAAC,EAAG,CAC5FC,IAAKA,EACLI,KAAMC,IAEV,EACAP,EAAaQ,YAAc,eAC3B,MAA4BL,EAAAA,WAAiBH,E,mFCT9B,SAASS,EAAmBC,GACzC,OCJa,SAA4BA,GACzC,GAAIC,MAAMC,QAAQF,GAAM,OAAO,EAAAG,EAAA,GAAiBH,EAClD,CDES,CAAkBA,IELZ,SAA0BI,GACvC,GAAsB,qBAAXC,QAAmD,MAAzBD,EAAKC,OAAOC,WAA2C,MAAtBF,EAAK,cAAuB,OAAOH,MAAMM,KAAKH,EACtH,CFGmC,CAAgBJ,KAAQ,EAAAQ,EAAA,GAA2BR,IGLvE,WACb,MAAM,IAAIS,UAAU,uIACtB,CHG8F,EAC9F,C","sources":["views/app-views/products/EditProduct/index.js","../node_modules/@ant-design/icons-svg/es/asn/DeleteFilled.js","../node_modules/@ant-design/icons/es/icons/DeleteFilled.js","../../../../AppData/Roaming/npm/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../../../../AppData/Roaming/npm/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../../../AppData/Roaming/npm/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../../../AppData/Roaming/npm/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { Form, Input, Button, Card, message } from 'antd';\nimport { APP_PREFIX_PATH, API_BASE_URL } from 'configs/AppConfig'\nimport axios from 'axios'\nimport Loading from 'components/shared-components/Loading'\nimport { DeleteFilled } from '@ant-design/icons';\n\nconst layout = {\n  labelCol: { span: 4 },\n  wrapperCol: { span: 14 },\n};\n\nconst validateMessages = {\n  required: 'This field is required!',\n  types: {\n    email: 'Not a validate email!',\n    number: 'Not a validate number!',\n  },\n  number: {// eslint-disable-next-line\n    range: 'Must be between ${min} and ${max}',\n  },\n};\n\nObject.filter = (obj, predicate) =>\n  Object.keys(obj)\n    .filter(key => predicate(obj[key]))// eslint-disable-next-line\n    .reduce((res, key) => (res[key] = obj[key], res), {});\n\nconst EditProduct = ({ history, match }) => {\n  const [product, setProduct] = useState(null)\n  const [prices, setPrices] = useState([])\n  const [loading, setLoading] = useState(true)\n  const productId = match.params.productid\n\n  useEffect(() => {\n    const init = async () => {\n      try {\n        const jwt = localStorage.getItem('jwt')\n        const options = {\n          url: API_BASE_URL + '/product/' + productId,\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n            'jwt-token': jwt\n          }\n        }\n        let res = await axios.request(options)\n        setProduct(res.data)\n        setPrices(res.data.prices)\n        setLoading(false)\n      } catch (error) {\n        console.log(error);\n      }\n    }\n    init()\n  }, [productId])\n\n\n  const onFinish = async (form) => {\n    //setLoading(true)\n    let data = Object.filter(form, item => item !== undefined)\n    data._id = productId\n    data = { ...data, prices }\n    data = { ...data, custom: product.custom ? true : false }\n    const jwt = localStorage.getItem('jwt')\n    try {\n      const options = {\n        url: API_BASE_URL + '/product/',\n        method: 'PUT',\n        data,\n        headers: {\n          'Content-Type': 'application/json',\n          'jwt-token': jwt\n        }\n      }\n      await axios.request(options)\n      message.success({ content: 'Producto editado con exito' })\n      setLoading(false)\n      history.push(APP_PREFIX_PATH + '/products')\n    } catch (error) {\n      setLoading(false)\n      console.error(error);\n    }\n  }\n\n  const onchangePrice = (v, i) => {\n    const value = v.target.value.toString().replace(/\\$\\s?|(,*)/g, '')\n    if (!(value.match(/^\\d+\\.\\d+$/) || value.match(/^\\d+$/)) && value !== '') return\n    if (value < 0) return\n    let aux = [...prices]\n    aux[i].price = value !== '' ? parseInt(value) : 0\n    setPrices(aux)\n  }\n\n  const onchangePriceDescription = (v, i) => {\n    let aux = [...prices]\n    aux[i].description = v.target.value\n    setPrices(aux)\n  }\n\n  const deletePrice = (i) => {\n    let aux = [...prices]\n    aux.splice(i, 1)\n    setPrices(aux)\n  }\n\n  const addPrice = () => {\n    setPrices([...prices, { price: 0, description: '' }])\n  }\n\n  if (loading) return (\n    <Loading cover=\"content\" />\n  )\n\n  return (\n    <Card>\n      <Form {...layout} name=\"add-product\" onFinish={onFinish} validateMessages={validateMessages} initialValues={{ ...product }}>\n        <Form.Item name={['sku']} label=\"SKU\" rules={[{ required: true }]}>\n          <Input />\n        </Form.Item>\n        <Form.Item name={['name']} label=\"Nombre\" rules={[{ required: true }]}>\n          <Input />\n        </Form.Item>\n        <Form.Item name={['resume']} label=\"Resumen\" >\n          <Input />\n        </Form.Item>\n        <Form.Item name={['keywords']} label=\"Palabras clave\" >\n          <Input />\n        </Form.Item>\n        <Form.Item name={['photo']} label=\"Foto URL\" >\n          <Input />\n        </Form.Item>\n        <Form.Item name={['description']} label=\"DescripciÃ³n\" >\n          <Input.TextArea />\n        </Form.Item>\n        {prices.map((p, i) => (\n          <Card key={`${i}`} title={`Precio ${i + 1}`}>\n            <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-between' }}>\n              <div style={{ width: '90%' }}>\n                <Form.Item label='Precio' >\n                  <Input value={p.price.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')} onChange={(v) => onchangePrice(v, i)} />\n                </Form.Item>\n                <Form.Item label='Descripcion' >\n                  <Input.TextArea value={p.description} onChange={(v) => onchangePriceDescription(v, i)} />\n                </Form.Item>\n              </div>\n              <Button onClick={() => deletePrice(i)}>\n                <DeleteFilled style={{ color: 'red' }} />\n              </Button>\n            </div>\n          </Card>\n        ))}\n        <Form.Item wrapperCol={{ ...layout.wrapperCol, offset: 4 }}>\n          <Button onClick={addPrice}>Agregar precio</Button>\n        </Form.Item>\n        <Form.Item wrapperCol={{ ...layout.wrapperCol, offset: 4 }}>\n          <Button type=\"primary\" htmlType=\"submit\">\n            Guardar\n          </Button>\n          <Button type=\"ghost\" onClick={() => history.push(APP_PREFIX_PATH + '/products')} style={{ marginLeft: '15px' }}>\n            Volver\n          </Button>\n        </Form.Item>\n      </Form>\n    </Card>\n  )\n}\n\nexport default EditProduct\n","// This icon file is generated automatically.\nvar DeleteFilled = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z\" } }] }, \"name\": \"delete\", \"theme\": \"filled\" };\nexport default DeleteFilled;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport DeleteFilledSvg from \"@ant-design/icons-svg/es/asn/DeleteFilled\";\nimport AntdIcon from '../components/AntdIcon';\nvar DeleteFilled = function DeleteFilled(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: DeleteFilledSvg\n  }));\n};\nDeleteFilled.displayName = 'DeleteFilled';\nexport default /*#__PURE__*/React.forwardRef(DeleteFilled);","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["layout","labelCol","span","wrapperCol","validateMessages","required","types","email","number","range","Object","filter","obj","predicate","keys","key","reduce","res","history","match","useState","product","setProduct","prices","setPrices","loading","setLoading","productId","params","productid","useEffect","init","jwt","localStorage","getItem","options","url","API_BASE_URL","method","headers","axios","data","console","log","onFinish","form","item","undefined","_id","custom","message","content","push","APP_PREFIX_PATH","error","cover","name","initialValues","label","rules","map","p","i","title","style","display","flexDirection","justifyContent","width","value","price","toString","replace","onChange","v","target","aux","parseInt","onchangePrice","description","onchangePriceDescription","onClick","splice","deletePrice","color","offset","type","htmlType","marginLeft","DeleteFilled","props","ref","React","AntdIcon","_objectSpread","icon","DeleteFilledSvg","displayName","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError"],"sourceRoot":""}