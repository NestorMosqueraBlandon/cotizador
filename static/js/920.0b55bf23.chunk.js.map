{"version":3,"file":"static/js/920.0b55bf23.chunk.js","mappings":"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","sources":["views/app-views/usbDiscount/editDiscount/index.js","../node_modules/@ant-design/icons-svg/es/asn/DeleteFilled.js","../node_modules/@ant-design/icons/es/icons/DeleteFilled.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Input, Button, Card, message } from 'antd'\nimport { APP_PREFIX_PATH, API_BASE_URL } from 'configs/AppConfig'\nimport axios from 'axios'\nimport Loading from 'components/shared-components/Loading'\nimport { DeleteFilled } from '@ant-design/icons';\n\nconst EditDiscounts = ({ history }) => {\n  const [loading, setLoading] = useState(true)\n  const [discount, setDiscount] = useState({})\n\n  useEffect(() => {\n    const controller = new AbortController();\n    const init = async () => {\n      try {\n        const jwt = localStorage.getItem('jwt')\n        const options = {\n          url: API_BASE_URL + '/usbdiscount/',\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n            'jwt-token': jwt\n          },\n          signal: controller.signal\n        }\n        const res = (await axios.request(options)).data\n        setDiscount(res)\n      } catch (error) {\n        console.log(error);\n      }\n      setLoading(false)\n    }\n    init()\n    return () => {\n      controller.abort()\n    }\n  }, [])\n\n  const addRange = () => {\n    let aux = { ...discount }\n    aux.ranges.push({ min: 0, max: 0, discount: 0 })\n    setDiscount({ ...discount })\n  }\n\n  const onChangeRange = (v, i) => {\n    const num = Number(v.target.value);\n    if ((Number.isInteger(num) && num > 0) || v.target.value === '') {\n      let aux = { ...discount }\n      aux.ranges[i][v.target.name] = num\n      setDiscount(aux)\n    }\n  }\n\n  const deleteRange = (i) => {\n    let aux = { ...discount }\n    aux.ranges.splice(i, 1)\n    setDiscount(aux)\n  }\n\n  const edit = async () => {\n    setLoading(true)\n    try {\n      const jwt = localStorage.getItem('jwt')\n      const options = {\n        method: 'PUT',\n        data: discount,\n        url: `${API_BASE_URL}/usbdiscount`,\n        headers: {\n          'Content-Type': 'application/json',\n          'jwt-token': jwt\n        }\n      }\n      await axios.request(options)\n      message.success({ content: 'Editado exitosamente' })\n      history.push(APP_PREFIX_PATH + '/usbdiscount')\n    } catch (error) {\n      message.error({ content: 'Hubo un error' })\n    }\n    setLoading(false)\n  }\n\n  if (loading) return (\n    <Loading cover=\"content\" />\n  )\n\n  return (\n    <div style={{ flexDirection: 'column', display: 'flex' }}>\n      <Card>\n        <div style={{ display: 'flex', flexDirection: 'row', alignItems: 'center', justifyContent: 'space-between' }}>\n          <div style={{ display: 'flex', flexDirection: 'row', alignItems: 'center' }}>\n            <p style={{ marginRight: '10px', marginBottom: '0px', fontWeight: '900' }}>Descuento fuera de rango:</p>\n            <Input\n              suffix='%'\n              name='outOfRangeDiscount'\n              value={discount.outOfRangeDiscount}\n              placeholder='Descuento'\n              style={{ width: 120 }}\n              onChange={(v) => setDiscount({ ...discount, outOfRangeDiscount: v.target.value })} />\n          </div>\n          <Button onClick={() => history.push(APP_PREFIX_PATH + '/discount')} >\n            Volver\n          </Button>\n        </div>\n        {discount.ranges.map((range, i) => (\n          <Card title={`Rango ${i + 1}`} key={`${i}`} style={{ marginTop: '10px' }}>\n            <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-around' }}>\n              <div style={{ display: 'flex', flexDirection: 'row', width: '280px', alignItems: 'center' }}>\n                <p style={{ marginBottom: '0px', marginRight: '10px', fontWeight: '900' }}>Desde:</p>\n                <Input value={range.min} name='min' placeholder='Desde' onChange={(v) => onChangeRange(v, i)} />\n              </div>\n              <div style={{ display: 'flex', flexDirection: 'row', width: '280px', alignItems: 'center' }}>\n                <p style={{ marginBottom: '0px', marginRight: '10px', fontWeight: '900' }}>Hasta:</p>\n                <Input value={range.max} name='max' placeholder='Hasta' onChange={(v) => onChangeRange(v, i)} />\n              </div>\n              <div style={{ display: 'flex', flexDirection: 'row', width: '280px', alignItems: 'center' }}>\n                <p style={{ marginBottom: '0px', marginRight: '10px', fontWeight: '900' }}>Descuento:</p>\n                <Input suffix='%' value={range.discount} name='discount' placeholder='Descuento' onChange={(v) => onChangeRange(v, i)} />\n              </div>\n            </div>\n            <Button style={{ backgroundColor: '#ff7575', marginTop: '20px' }} onClick={() => deleteRange(i)}>\n              <DeleteFilled style={{ color: 'white', fontSize: '20px' }} />\n            </Button>\n          </Card>\n        ))\n        }\n        <Button onClick={addRange} style={{ marginTop: '10px', width: '100% ' }}>\n          Agregar Rango\n        </Button>\n      </Card>\n      <Button type='primary' onClick={edit} style={{ marginTop: '10px' }}>\n        Guardar\n      </Button>\n    </div>\n  )\n}\n\nexport default EditDiscounts\n","// This icon file is generated automatically.\nvar DeleteFilled = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z\" } }] }, \"name\": \"delete\", \"theme\": \"filled\" };\nexport default DeleteFilled;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport DeleteFilledSvg from \"@ant-design/icons-svg/es/asn/DeleteFilled\";\nimport AntdIcon from '../components/AntdIcon';\nvar DeleteFilled = function DeleteFilled(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: DeleteFilledSvg\n  }));\n};\nDeleteFilled.displayName = 'DeleteFilled';\nexport default /*#__PURE__*/React.forwardRef(DeleteFilled);"],"names":["history","useState","loading","setLoading","discount","setDiscount","useEffect","controller","AbortController","init","jwt","localStorage","getItem","options","url","API_BASE_URL","method","headers","signal","axios","res","data","console","log","abort","onChangeRange","v","i","num","Number","target","value","isInteger","aux","ranges","name","edit","message","content","push","APP_PREFIX_PATH","cover","style","flexDirection","display","alignItems","justifyContent","marginRight","marginBottom","fontWeight","suffix","outOfRangeDiscount","placeholder","width","onChange","onClick","map","range","title","key","marginTop","min","max","backgroundColor","splice","deleteRange","color","fontSize","type","DeleteFilled","props","ref","React","AntdIcon","_objectSpread","icon","DeleteFilledSvg","displayName"],"sourceRoot":""}