{"version":3,"file":"static/js/639.fab9aede.chunk.js","mappings":"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","sources":["views/app-views/markings/addMarking/index.js","../node_modules/@ant-design/icons-svg/es/asn/DeleteFilled.js","../node_modules/@ant-design/icons/es/icons/DeleteFilled.js"],"sourcesContent":["import React, { useState } from 'react'\nimport { Form, Input, Button, Card, message } from 'antd';\nimport { APP_PREFIX_PATH, API_BASE_URL } from 'configs/AppConfig'\nimport { DeleteFilled } from '@ant-design/icons';\nimport axios from 'axios'\n\n\nconst layout = {\n  labelCol: { span: 4 },\n  wrapperCol: { span: 14 },\n};\n\nconst validateMessages = {\n  required: 'This field is required!',\n  types: {\n    email: 'Not a validate email!',\n    number: 'Not a validate number!',\n  },\n  number: {// eslint-disable-next-line\n    range: 'Must be between ${min} and ${max}',\n  },\n};\n\nObject.filter = (obj, predicate) =>\n  Object.keys(obj)\n    .filter(key => predicate(obj[key]))// eslint-disable-next-line\n    .reduce((res, key) => (res[key] = obj[key], res), {});\n\nconst AddMarking = ({ history }) => {\n  const [marking, setMarking] = useState({ name: '', inks: [{ name: '', minTotalPrice: '', outOfRangePrice: '', ranges: [{ min: '', max: '', price: '' }] }] })\n\n  const onFinish = async (form) => {\n    const jwt = localStorage.getItem('jwt')\n\n    try {\n      const options = {\n        url: API_BASE_URL + '/marking/',\n        method: 'POST',\n        data: marking,\n        headers: {\n          'Content-Type': 'application/json',\n          'jwt-token': jwt\n        }\n      }\n      await axios.request(options)\n      message.success({ content: 'Marcación creada con exito' })\n      history.push(APP_PREFIX_PATH + '/markings')\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  const addInk = () => {\n    let aux = { ...marking }\n    aux.inks.push({ name: '', minTotalPrice: 0, outOfRangePrice: 0, ranges: [{ min: 0, max: 0, price: 0 }] })\n    setMarking(aux)\n  }\n  const addRange = (i) => {\n    let aux = { ...marking }\n    aux.inks[i].ranges.push({ min: 0, max: 0, price: 0 })\n    setMarking(aux)\n  }\n\n  const onChangeInk = (v, i) => {\n    if (v.target.name === 'name') {\n      console.log(v.target.value);\n      let aux = { ...marking }\n      aux.inks[i][v.target.name] = v.target.value\n      setMarking(aux)\n    } else {\n      const num = Number(v.target.value);\n      if ((Number.isInteger(num) && num >= 0) || v.target.value === '') {\n        let aux = { ...marking }\n        aux.inks[i][v.target.name] = v.target.value\n        setMarking(aux)\n      }\n    }\n  }\n\n  const deleteInk = (i) => {\n    let aux = { ...marking }\n    aux.inks.splice(i, 1)\n    setMarking(aux)\n  }\n\n  const onChangeRange = (v, i, j) => {\n    const num = Number(v.target.value);\n    if ((Number.isInteger(num) && num > 0) || v.target.value === '') {\n      let aux = { ...marking }\n      aux.inks[i].ranges[j][v.target.name] = v.target.value\n      setMarking(aux)\n    }\n  }\n\n  const deleteRange = (i, j) => {\n    let aux = { ...marking }\n    aux.inks[i].ranges.splice(j, 1)\n    setMarking(aux)\n  }\n\n  return (\n    <Card title='Crear marcación'>\n      <Form {...layout} name=\"add-marking\" onFinish={onFinish} validateMessages={validateMessages}>\n        <Form.Item label=\"Nombre\" rules={[{ required: true }]}>\n          <Input value={marking.name} onChange={(v) => setMarking({ ...marking, name: v.target.value })} />\n        </Form.Item>\n        {marking.inks.map((ink, i) => (\n          <Card title={`Tinta ${i + 1}`} key={i}>\n            <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-between' }}>\n              <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-around' }}>\n                <div style={{ display: 'flex', flexDirection: 'row', width: '280px', alignItems: 'center' }}>\n                  <p style={{ marginBottom: '0px', marginRight: '10px', fontWeight: '900' }}>Nombre de tinta:</p>\n                  <Input value={ink.name} name='name' placeholder='Nombre de tinta' onChange={(v) => onChangeInk(v, i)} style={{ width: '150px' }} />\n                </div>\n                <div style={{ display: 'flex', flexDirection: 'row', width: '280px', alignItems: 'center' }}>\n                  <p style={{ marginBottom: '0px', marginRight: '10px', fontWeight: '900' }}>Precio minimo:</p>\n                  <Input value={ink.minTotalPrice} name='minTotalPrice' placeholder='Precio minimo' onChange={(v) => onChangeInk(v, i)} style={{ width: '150px' }} />\n                </div>\n                <div style={{ display: 'flex', flexDirection: 'row', width: '280px', alignItems: 'center' }}>\n                  <p style={{ marginBottom: '0px', marginRight: '10px', fontWeight: '900' }}>Precio unitario fuera de rango:</p>\n                  <Input value={ink.outOfRangePrice} name='outOfRangePrice' placeholder='Precio unitario fuera de rango' onChange={(v) => onChangeInk(v, i)} />\n                </div>\n              </div>\n              <Button style={{ backgroundColor: '#ff7575' }} onClick={() => deleteInk(i)}>\n                <DeleteFilled style={{ color: 'white', fontSize: '20px' }} />\n              </Button>\n            </div>\n            <div>\n              {ink.ranges.map((range, j) => (\n                <Card title={`Rango ${j + 1}`} key={`${i}-${j}`}>\n                  <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-around' }}>\n                    <div style={{ display: 'flex', flexDirection: 'row', width: '280px', alignItems: 'center' }}>\n                      <p style={{ marginBottom: '0px', marginRight: '10px', fontWeight: '900' }}>Desde:</p>\n                      <Input value={range.min} name='min' placeholder='Desde' onChange={(v) => onChangeRange(v, i, j)} />\n                    </div>\n                    <div style={{ display: 'flex', flexDirection: 'row', width: '280px', alignItems: 'center' }}>\n                      <p style={{ marginBottom: '0px', marginRight: '10px', fontWeight: '900' }}>Hasta:</p>\n                      <Input value={range.max} name='max' placeholder='Hasta' onChange={(v) => onChangeRange(v, i, j)} />\n                    </div>\n                    <div style={{ display: 'flex', flexDirection: 'row', width: '280px', alignItems: 'center' }}>\n                      <p style={{ marginBottom: '0px', marginRight: '10px', fontWeight: '900' }}>Precio unitario:</p>\n                      <Input value={range.price} name='price' placeholder='Hasta' onChange={(v) => onChangeRange(v, i, j)} />\n                    </div>\n                  </div>\n                  <Button style={{ backgroundColor: '#ff7575', marginTop: '20px' }} onClick={() => deleteRange(i, j)}>\n                    <DeleteFilled style={{ color: 'white', fontSize: '20px' }} />\n                  </Button>\n                </Card>\n              ))\n              }\n              <div style={{ display: 'flex', flexDirection: 'column', justifyContent: 'center', marginBottom: '15px' }}>\n                <Button onClick={() => addRange(i)} style={{ fontSize: '25px', fontWeight: '900', height: '60px' }}>\n                  Agregar Rango\n                </Button>\n              </div>\n            </div>\n          </Card>\n        ))\n        }\n        <div style={{ display: 'flex', flexDirection: 'column', justifyContent: 'center', marginBottom: '15px' }}>\n          <Button onClick={addInk} style={{ fontSize: '25px', fontWeight: '900', height: '60px' }}>\n            Agregar Tinta\n          </Button>\n        </div>\n        <Form.Item >\n          <Button type=\"primary\" htmlType=\"submit\">\n            Crear\n          </Button>\n          <Button type=\"ghost\" onClick={() => history.push(APP_PREFIX_PATH + '/markings')} style={{ marginLeft: '15px' }}>\n            Volver\n          </Button>\n        </Form.Item>\n      </Form>\n    </Card>\n  )\n}\n\nexport default AddMarking\n","// This icon file is generated automatically.\nvar DeleteFilled = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z\" } }] }, \"name\": \"delete\", \"theme\": \"filled\" };\nexport default DeleteFilled;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport DeleteFilledSvg from \"@ant-design/icons-svg/es/asn/DeleteFilled\";\nimport AntdIcon from '../components/AntdIcon';\nvar DeleteFilled = function DeleteFilled(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: DeleteFilledSvg\n  }));\n};\nDeleteFilled.displayName = 'DeleteFilled';\nexport default /*#__PURE__*/React.forwardRef(DeleteFilled);"],"names":["layout","labelCol","span","wrapperCol","validateMessages","required","types","email","number","range","Object","filter","obj","predicate","keys","key","reduce","res","history","useState","name","inks","minTotalPrice","outOfRangePrice","ranges","min","max","price","marking","setMarking","onFinish","form","jwt","localStorage","getItem","options","url","API_BASE_URL","method","data","headers","axios","message","content","push","APP_PREFIX_PATH","console","error","onChangeInk","v","i","target","log","value","aux","num","Number","isInteger","onChangeRange","j","title","label","rules","onChange","map","ink","style","display","flexDirection","justifyContent","width","alignItems","marginBottom","marginRight","fontWeight","placeholder","backgroundColor","onClick","splice","deleteInk","color","fontSize","marginTop","deleteRange","addRange","height","type","htmlType","marginLeft","DeleteFilled","props","ref","React","AntdIcon","_objectSpread","icon","DeleteFilledSvg","displayName"],"sourceRoot":""}