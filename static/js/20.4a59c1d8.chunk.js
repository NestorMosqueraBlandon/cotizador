(self.webpackChunkCotizador=self.webpackChunkCotizador||[]).push([[20],{70612:function(e,t,n){"use strict";var r=n(35737);t.Z=function(e,t,n){var o,a=new RegExp("".concat(n),"i"),c=[],i=(0,r.Z)(e);try{for(i.s();!(o=i.n()).done;){var l,u=o.value,s=(0,r.Z)(t);try{for(s.s();!(l=s.n()).done;){var f=l.value;if(f.indexOf(".")>0){var m=u[f.split(".")[0]],p=f.split(".")[1];if(a.test(m[p])){c.push(u);break}}else if(a.test(u[f])){c.push(u);break}}}catch(d){s.e(d)}finally{s.f()}}}catch(d){i.e(d)}finally{i.f()}return c}},57733:function(e,t){"use strict";t.Z=function(e,t,n){return"number"===typeof e[n]&&"number"===typeof t[n]?e[n]-t[n]:"string"===typeof e[n]&&"string"===typeof t[n]?(e=e[n].toLowerCase())>(t=t[n].toLowerCase())?-1:t>e?1:0:"boolean"===typeof e[n]&&"boolean"===typeof t[n]?!!e:void 0}},91482:function(e,t,n){"use strict";n.r(t);var r=n(9817),o=n(99499),a=n(43693),c=n(7738),i=n(49073),l=n(4569),u=n(81787),s=n(89579),f=n(62780),m=n(74193),p=n(30531),d=n(98848),v=n(43157),y=n.n(v),h=n(92210),Z=n(70612),b=n(57733);t.default=function(e){var t=e.history,n=(0,c.useState)(!0),v=(0,a.Z)(n,2),x=v[0],C=v[1],w=(0,c.useState)([]),E=(0,a.Z)(w,2),g=E[0],k=E[1],S=(0,c.useState)([]),N=(0,a.Z)(S,2),T=N[0],j=N[1];(0,c.useEffect)((function(){var e=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t,n,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("jwt"),n={url:d.CT+"/customer/",method:"GET",headers:{"Content-Type":"application/json","jwt-token":t}},e.next=5,y().request(n);case 5:o=e.sent,k(o.data),j(o.data),C(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var z=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push(d.sH+"/editcustomer/"+n);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(g.filter((function(e){return e._id!==t}))),e.prev=1,n=localStorage.getItem("jwt"),o={url:d.CT+"/customer/"+t,method:"DELETE",headers:{"Content-Type":"application/json","jwt-token":n}},e.next=6,y().request(o);case 6:l.ZP.success({content:"Successfully deleted customer",duration:5}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),I=[{title:"Razon Social",dataIndex:"businessName",key:"businessName",sorter:function(e,t){return(0,b.Z)(e,t,"name")}},{title:"Nombre",dataIndex:"name",key:"name",sorter:function(e,t){return(0,b.Z)(e,t,"name")}},{title:"Correo",dataIndex:"email",key:"email",sorter:function(e,t){return(0,b.Z)(e,t,"email")}},{title:"Telefono",dataIndex:"phone",key:"phone",sorter:function(e,t){return(0,b.Z)(e,t,"email")}},{title:"Acciones",dataIndex:"_id",key:"_id",render:function(e){return function(e,t,n){return c.createElement("div",null,c.createElement(m.Z,{onClick:function(){return n(e)},style:{fontSize:"25px",marginRight:"15px"}}),c.createElement(i.Z,{title:"Sure to delete?",onConfirm:function(){return t(e)}},c.createElement(p.Z,{style:{fontSize:"25px"}})))}(e,O,z)}}];return x?c.createElement(h.Z,{cover:"content"}):c.createElement("div",null,c.createElement("div",{style:{flexDirection:"row",display:"flex",marginBottom:"20px"}},c.createElement(u.Z.Search,{allowClear:!0,placeholder:"Search",onSearch:function(e){var t;(t=e).length>0?k((0,Z.Z)(T,["businessName","name","email"],t)):k(T)},style:{marginRight:"4px"},enterButton:!0}),c.createElement(s.Z,{onClick:function(){return t.push(d.sH+"/addcustomer")},style:{marginBottom:"20px"}},"Crear cliente")),c.createElement(f.Z,{onRow:function(e,t){return{onDoubleClick:function(){z(e._id)}}},columns:I,dataSource:g,rowKey:"_id"}))}},30531:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(1413),o=n(7738),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},c=n(4622),i=function(e,t){return o.createElement(c.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:a}))};i.displayName="DeleteOutlined";var l=o.forwardRef(i)},49073:function(e,t,n){"use strict";var r=n(87462),o=n(29439),a=n(7738),c=n(71388),i=n.n(c),l=n(15576),u=n(90051),s=n(15338),f=n(41520),m=n(89579),p=n(40205),d=n(16068),v=n(39484),y=n(66800),h=n(62703),Z=n(86403),b=n(82306),x=void 0,C=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},w=a.forwardRef((function(e,t){var n=(0,l.Z)(!1,{value:e.visible,defaultValue:e.defaultVisible}),c=(0,o.Z)(n,2),u=c[0],w=c[1],E=function(t,n){var r;w(t),null===(r=e.onVisibleChange)||void 0===r||r.call(e,t,n)},g=function(t){var n;E(!1,t),null===(n=e.onConfirm)||void 0===n||n.call(x,t)},k=function(t){var n;E(!1,t),null===(n=e.onCancel)||void 0===n||n.call(x,t)},S=a.useContext(y.E_).getPrefixCls,N=e.prefixCls,T=e.placement,j=e.children,z=e.overlayClassName,O=C(e,["prefixCls","placement","children","overlayClassName"]),I=S("popover",N),P=S("popconfirm",N),R=i()(P,z),B=a.createElement(d.Z,{componentName:"Popconfirm",defaultLocale:v.Z.Popconfirm},(function(t){return function(t,n){var o=e.okButtonProps,c=e.cancelButtonProps,i=e.title,l=e.cancelText,u=e.okText,s=e.okType,f=e.icon;return a.createElement("div",{className:"".concat(t,"-inner-content")},a.createElement("div",{className:"".concat(t,"-message")},f,a.createElement("div",{className:"".concat(t,"-message-title")},(0,h.Z)(i))),a.createElement("div",{className:"".concat(t,"-buttons")},a.createElement(m.Z,(0,r.Z)({onClick:k,size:"small"},c),l||n.cancelText),a.createElement(m.Z,(0,r.Z)({onClick:g},(0,p.n)(s),{size:"small"},o),u||n.okText)))}(I,t)})),D=S();return a.createElement(f.Z,(0,r.Z)({},O,{prefixCls:I,placement:T,onVisibleChange:function(t){e.disabled||E(t)},visible:u,overlay:B,overlayClassName:R,ref:t,transitionName:(0,b.m)(D,"zoom-big",e.transitionName)}),(0,Z.Tm)(j,{onKeyDown:function(e){var t,n;a.isValidElement(j)&&(null===(n=null===j||void 0===j?void 0:(t=j.props).onKeyDown)||void 0===n||n.call(t,e)),function(e){e.keyCode===s.Z.ESC&&u&&E(!1,e)}(e)}}))}));w.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:a.createElement(u.Z,null),disabled:!1},t.Z=w},20343:function(e,t,n){var r=n(82172);e.exports=function(e,t){return r(e,t)}},35737:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(15449);function o(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,c=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw c}}}}}}]);
//# sourceMappingURL=20.4a59c1d8.chunk.js.map