"use strict";(self.webpackChunkCotizador=self.webpackChunkCotizador||[]).push([[920],{69920:function(e,t,n){n.r(t);var r=n(10389),a=n(9817),o=n(99499),c=n(43693),i=n(7738),l=n(4569),s=n(50465),u=n(81787),m=n(89579),f=n(98848),p=n(43157),d=n.n(p),g=n(92210),h=n(643);t.default=function(e){var t=e.history,n=(0,i.useState)(!0),p=(0,c.Z)(n,2),v=p[0],x=p[1],y=(0,i.useState)({}),Z=(0,c.Z)(y,2),E=Z[0],w=Z[1];(0,i.useEffect)((function(){var e=new AbortController,t=function(){var t=(0,o.Z)((0,a.Z)().mark((function t(){var n,r,o;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=localStorage.getItem("jwt"),r={url:f.CT+"/usbdiscount/",method:"GET",headers:{"Content-Type":"application/json","jwt-token":n},signal:e.signal},t.next=5,d().request(r);case 5:o=t.sent.data,w(o),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:x(!1);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return t(),function(){e.abort()}}),[]);var C=function(e,t){var n=Number(e.target.value);if(Number.isInteger(n)&&n>0||""===e.target.value){var a=(0,r.Z)({},E);a.ranges[t][e.target.name]=n,w(a)}},D=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,n=localStorage.getItem("jwt"),r={method:"PUT",data:E,url:"".concat(f.CT,"/usbdiscount"),headers:{"Content-Type":"application/json","jwt-token":n}},e.next=6,d().request(r);case 6:l.ZP.success({content:"Editado exitosamente"}),t.push(f.sH+"/usbdiscount"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),l.ZP.error({content:"Hubo un error"});case 13:x(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return v?i.createElement(g.Z,{cover:"content"}):i.createElement("div",{style:{flexDirection:"column",display:"flex"}},i.createElement(s.Z,null,i.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},i.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},i.createElement("p",{style:{marginRight:"10px",marginBottom:"0px",fontWeight:"900"}},"Descuento fuera de rango:"),i.createElement(u.Z,{suffix:"%",name:"outOfRangeDiscount",value:E.outOfRangeDiscount,placeholder:"Descuento",style:{width:120},onChange:function(e){return w((0,r.Z)((0,r.Z)({},E),{},{outOfRangeDiscount:e.target.value}))}})),i.createElement(m.Z,{onClick:function(){return t.push(f.sH+"/discount")}},"Volver")),E.ranges.map((function(e,t){return i.createElement(s.Z,{title:"Rango ".concat(t+1),key:"".concat(t),style:{marginTop:"10px"}},i.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around"}},i.createElement("div",{style:{display:"flex",flexDirection:"row",width:"280px",alignItems:"center"}},i.createElement("p",{style:{marginBottom:"0px",marginRight:"10px",fontWeight:"900"}},"Desde:"),i.createElement(u.Z,{value:e.min,name:"min",placeholder:"Desde",onChange:function(e){return C(e,t)}})),i.createElement("div",{style:{display:"flex",flexDirection:"row",width:"280px",alignItems:"center"}},i.createElement("p",{style:{marginBottom:"0px",marginRight:"10px",fontWeight:"900"}},"Hasta:"),i.createElement(u.Z,{value:e.max,name:"max",placeholder:"Hasta",onChange:function(e){return C(e,t)}})),i.createElement("div",{style:{display:"flex",flexDirection:"row",width:"280px",alignItems:"center"}},i.createElement("p",{style:{marginBottom:"0px",marginRight:"10px",fontWeight:"900"}},"Descuento:"),i.createElement(u.Z,{suffix:"%",value:e.discount,name:"discount",placeholder:"Descuento",onChange:function(e){return C(e,t)}}))),i.createElement(m.Z,{style:{backgroundColor:"#ff7575",marginTop:"20px"},onClick:function(){return function(e){var t=(0,r.Z)({},E);t.ranges.splice(e,1),w(t)}(t)}},i.createElement(h.Z,{style:{color:"white",fontSize:"20px"}})))})),i.createElement(m.Z,{onClick:function(){(0,r.Z)({},E).ranges.push({min:0,max:0,discount:0}),w((0,r.Z)({},E))},style:{marginTop:"10px",width:"100% "}},"Agregar Rango")),i.createElement(m.Z,{type:"primary",onClick:D,style:{marginTop:"10px"}},"Guardar"))}},643:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(1413),a=n(7738),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z"}}]},name:"delete",theme:"filled"},c=n(4622),i=function(e,t){return a.createElement(c.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:o}))};i.displayName="DeleteFilled";var l=a.forwardRef(i)}}]);
//# sourceMappingURL=920.0b55bf23.chunk.js.map